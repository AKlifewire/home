{"version":"tree-0.1","tree":{"id":"App","path":"","children":{"dev-SSMParameterStack":{"id":"dev-SSMParameterStack","path":"dev-SSMParameterStack","children":{"Param-auth--userPoolId":{"id":"Param-auth--userPoolId","path":"dev-SSMParameterStack/Param-auth--userPoolId","children":{"Resource":{"id":"Resource","path":"dev-SSMParameterStack/Param-auth--userPoolId/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for auth/userPoolId","name":"/dev/auth/userPoolId","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"String","value":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefUserPool6BA7E5F296FD7236"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","tier":"Standard","description":"*"}]}},"Output-auth-userPoolId":{"id":"Output-auth-userPoolId","path":"dev-SSMParameterStack/Output-auth-userPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Param-auth--userPoolClientId":{"id":"Param-auth--userPoolClientId","path":"dev-SSMParameterStack/Param-auth--userPoolClientId","children":{"Resource":{"id":"Resource","path":"dev-SSMParameterStack/Param-auth--userPoolClientId/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for auth/userPoolClientId","name":"/dev/auth/userPoolClientId","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"String","value":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefUserPoolClient2F5918F753847A55"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","tier":"Standard","description":"*"}]}},"Output-auth-userPoolClientId":{"id":"Output-auth-userPoolClientId","path":"dev-SSMParameterStack/Output-auth-userPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"SecureParam-auth--identityPoolId":{"id":"SecureParam-auth--identityPoolId","path":"dev-SSMParameterStack/SecureParam-auth--identityPoolId","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for auth/identityPoolId","name":"/dev/auth/identityPoolId","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"SecureString","value":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefIdentityPoolF5C140BA"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}},"Param-auth--identityPoolId":{"id":"Param-auth--identityPoolId","path":"dev-SSMParameterStack/Param-auth--identityPoolId","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":[]}},"Param-api--graphqlEndpoint":{"id":"Param-api--graphqlEndpoint","path":"dev-SSMParameterStack/Param-api--graphqlEndpoint","children":{"Resource":{"id":"Resource","path":"dev-SSMParameterStack/Param-api--graphqlEndpoint/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for api/graphqlEndpoint","name":"/dev/api/graphqlEndpoint","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"String","value":{"Fn::Join":["",["https://",{"Fn::ImportValue":"dev-AppSyncStack:ExportsOutputFnGetAttGraphqlApiGraphQLUrlB313F3C4"}]]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","tier":"Standard","description":"*"}]}},"Output-api-graphqlEndpoint":{"id":"Output-api-graphqlEndpoint","path":"dev-SSMParameterStack/Output-api-graphqlEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Param-api--graphqlApiId":{"id":"Param-api--graphqlApiId","path":"dev-SSMParameterStack/Param-api--graphqlApiId","children":{"Resource":{"id":"Resource","path":"dev-SSMParameterStack/Param-api--graphqlApiId/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for api/graphqlApiId","name":"/dev/api/graphqlApiId","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"String","value":{"Fn::ImportValue":"dev-AppSyncStack:ExportsOutputFnGetAttGraphqlApiApiId87400CC9"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","tier":"Standard","description":"*"}]}},"Output-api-graphqlApiId":{"id":"Output-api-graphqlApiId","path":"dev-SSMParameterStack/Output-api-graphqlApiId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Param-ui--s3BucketName":{"id":"Param-ui--s3BucketName","path":"dev-SSMParameterStack/Param-ui--s3BucketName","children":{"Resource":{"id":"Resource","path":"dev-SSMParameterStack/Param-ui--s3BucketName/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for ui/s3BucketName","name":"/dev/ui/s3BucketName","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"String","value":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefUiPageBucketACD75CDC1A70A78F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","tier":"Standard","description":"*"}]}},"Output-ui-s3BucketName":{"id":"Output-ui-s3BucketName","path":"dev-SSMParameterStack/Output-ui-s3BucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Param-ui--s3BucketUrl":{"id":"Param-ui--s3BucketUrl","path":"dev-SSMParameterStack/Param-ui--s3BucketUrl","children":{"Resource":{"id":"Resource","path":"dev-SSMParameterStack/Param-ui--s3BucketUrl/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for ui/s3BucketUrl","name":"/dev/ui/s3BucketUrl","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"String","value":{"Fn::Join":["",["https://",{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefUiPageBucketACD75CDC1A70A78F"},".s3.us-east-1.amazonaws.com"]]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","tier":"Standard","description":"*"}]}},"Output-ui-s3BucketUrl":{"id":"Output-ui-s3BucketUrl","path":"dev-SSMParameterStack/Output-ui-s3BucketUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Param-ui--s3BucketRegionalDomainName":{"id":"Param-ui--s3BucketRegionalDomainName","path":"dev-SSMParameterStack/Param-ui--s3BucketRegionalDomainName","children":{"Resource":{"id":"Resource","path":"dev-SSMParameterStack/Param-ui--s3BucketRegionalDomainName/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for ui/s3BucketRegionalDomainName","name":"/dev/ui/s3BucketRegionalDomainName","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"String","value":{"Fn::Join":["",[{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefUiPageBucketACD75CDC1A70A78F"},".s3.us-east-1.amazonaws.com"]]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","tier":"Standard","description":"*"}]}},"Output-ui-s3BucketRegionalDomainName":{"id":"Output-ui-s3BucketRegionalDomainName","path":"dev-SSMParameterStack/Output-ui-s3BucketRegionalDomainName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Param-ota--bucketName":{"id":"Param-ota--bucketName","path":"dev-SSMParameterStack/Param-ota--bucketName","children":{"Resource":{"id":"Resource","path":"dev-SSMParameterStack/Param-ota--bucketName/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for ota/bucketName","name":"/dev/ota/bucketName","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"String","value":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefOtaFirmwareBucket8CCE4052C90303CC"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","tier":"Standard","description":"*"}]}},"Output-ota-bucketName":{"id":"Output-ota-bucketName","path":"dev-SSMParameterStack/Output-ota-bucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Param-ota--bucketUrl":{"id":"Param-ota--bucketUrl","path":"dev-SSMParameterStack/Param-ota--bucketUrl","children":{"Resource":{"id":"Resource","path":"dev-SSMParameterStack/Param-ota--bucketUrl/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for ota/bucketUrl","name":"/dev/ota/bucketUrl","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"String","value":{"Fn::Join":["",["https://",{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefOtaFirmwareBucket8CCE4052C90303CC"},".s3.us-east-1.amazonaws.com"]]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","tier":"Standard","description":"*"}]}},"Output-ota-bucketUrl":{"id":"Output-ota-bucketUrl","path":"dev-SSMParameterStack/Output-ota-bucketUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Param-logs--bucketName":{"id":"Param-logs--bucketName","path":"dev-SSMParameterStack/Param-logs--bucketName","children":{"Resource":{"id":"Resource","path":"dev-SSMParameterStack/Param-logs--bucketName/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for logs/bucketName","name":"/dev/logs/bucketName","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"String","value":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefDeviceLogsBucketCE8D3AB0010B4F1E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","tier":"Standard","description":"*"}]}},"Output-logs-bucketName":{"id":"Output-logs-bucketName","path":"dev-SSMParameterStack/Output-logs-bucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Param-iot--endpoint":{"id":"Param-iot--endpoint","path":"dev-SSMParameterStack/Param-iot--endpoint","children":{"Resource":{"id":"Resource","path":"dev-SSMParameterStack/Param-iot--endpoint/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for iot/endpoint","name":"/dev/iot/endpoint","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"String","value":{"Fn::ImportValue":"dev-IoTStack:ExportsOutputFnGetAttDescribeIoTEndpointB53F1A7DendpointAddressAF0B54D1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","tier":"Standard","description":"*"}]}},"Output-iot-endpoint":{"id":"Output-iot-endpoint","path":"dev-SSMParameterStack/Output-iot-endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Param-iot--provisioningTemplateName":{"id":"Param-iot--provisioningTemplateName","path":"dev-SSMParameterStack/Param-iot--provisioningTemplateName","children":{"Resource":{"id":"Resource","path":"dev-SSMParameterStack/Param-iot--provisioningTemplateName/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for iot/provisioningTemplateName","name":"/dev/iot/provisioningTemplateName","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"String","value":"SmartHomeProvisioningTemplate-dev"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","tier":"Standard","description":"*"}]}},"Output-iot-provisioningTemplateName":{"id":"Output-iot-provisioningTemplateName","path":"dev-SSMParameterStack/Output-iot-provisioningTemplateName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Param-iot--policyName":{"id":"Param-iot--policyName","path":"dev-SSMParameterStack/Param-iot--policyName","children":{"Resource":{"id":"Resource","path":"dev-SSMParameterStack/Param-iot--policyName/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for iot/policyName","name":"/dev/iot/policyName","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"String","value":"SmartHomeIoTPolicy-dev"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","tier":"Standard","description":"*"}]}},"Output-iot-policyName":{"id":"Output-iot-policyName","path":"dev-SSMParameterStack/Output-iot-policyName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Param-ui-json--bucketName":{"id":"Param-ui-json--bucketName","path":"dev-SSMParameterStack/Param-ui-json--bucketName","children":{"Resource":{"id":"Resource","path":"dev-SSMParameterStack/Param-ui-json--bucketName/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for ui-json/bucketName","name":"/dev/ui-json/bucketName","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"String","value":{"Fn::ImportValue":"dev-UiJsonStack:ExportsOutputRefUiJsonBucket3AA1EB43F2548F97"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","tier":"Standard","description":"*"}]}},"Output-ui-json-bucketName":{"id":"Output-ui-json-bucketName","path":"dev-SSMParameterStack/Output-ui-json-bucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Param-ui-json--lambdaArn":{"id":"Param-ui-json--lambdaArn","path":"dev-SSMParameterStack/Param-ui-json--lambdaArn","children":{"Resource":{"id":"Resource","path":"dev-SSMParameterStack/Param-ui-json--lambdaArn/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for ui-json/lambdaArn","name":"/dev/ui-json/lambdaArn","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"String","value":{"Fn::ImportValue":"dev-UiJsonStack:ExportsOutputFnGetAttUiJsonLambda9788CDA3ArnDBB92D08"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","tier":"Standard","description":"*"}]}},"Output-ui-json-lambdaArn":{"id":"Output-ui-json-lambdaArn","path":"dev-SSMParameterStack/Output-ui-json-lambdaArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Param-analytics--timestreamDatabase":{"id":"Param-analytics--timestreamDatabase","path":"dev-SSMParameterStack/Param-analytics--timestreamDatabase","children":{"Resource":{"id":"Resource","path":"dev-SSMParameterStack/Param-analytics--timestreamDatabase/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for analytics/timestreamDatabase","name":"/dev/analytics/timestreamDatabase","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"String","value":"SmartHomeAnalyticsdev"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","tier":"Standard","description":"*"}]}},"Output-analytics-timestreamDatabase":{"id":"Output-analytics-timestreamDatabase","path":"dev-SSMParameterStack/Output-analytics-timestreamDatabase","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Param-analytics--timestreamTable":{"id":"Param-analytics--timestreamTable","path":"dev-SSMParameterStack/Param-analytics--timestreamTable","children":{"Resource":{"id":"Resource","path":"dev-SSMParameterStack/Param-analytics--timestreamTable/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for analytics/timestreamTable","name":"/dev/analytics/timestreamTable","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"String","value":"DeviceMetrics"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","tier":"Standard","description":"*"}]}},"Output-analytics-timestreamTable":{"id":"Output-analytics-timestreamTable","path":"dev-SSMParameterStack/Output-analytics-timestreamTable","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Param-monitoring--alarmTopicArn":{"id":"Param-monitoring--alarmTopicArn","path":"dev-SSMParameterStack/Param-monitoring--alarmTopicArn","children":{"Resource":{"id":"Resource","path":"dev-SSMParameterStack/Param-monitoring--alarmTopicArn/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Generated by CDK for monitoring/alarmTopicArn","name":"/dev/monitoring/alarmTopicArn","tags":{"Environment":"dev","Module":"SSMParameters"},"tier":"Standard","type":"String","value":{"Fn::ImportValue":"dev-MonitoringStack:ExportsOutputRefAlarmTopicD01E77F99DF7FB73"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","tier":"Standard","description":"*"}]}},"Output-monitoring-alarmTopicArn":{"id":"Output-monitoring-alarmTopicArn","path":"dev-SSMParameterStack/Output-monitoring-alarmTopicArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"dev-SSMParameterStack/CDKMetadata","children":{"Default":{"id":"Default","path":"dev-SSMParameterStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev-SSMParameterStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.195.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev-SSMParameterStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.195.0"}},"dev-AuthStack":{"id":"dev-AuthStack","path":"dev-AuthStack","children":{"UserPool":{"id":"UserPool","path":"dev-AuthStack/UserPool","children":{"Resource":{"id":"Resource","path":"dev-AuthStack/UserPool/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false},"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","policies":{"passwordPolicy":{"minimumLength":8,"requireLowercase":true,"requireUppercase":false,"requireNumbers":true,"requireSymbols":false}},"smsVerificationMessage":"The verification code to your new account is {####}","usernameAttributes":["email"],"userPoolName":"smart-home-dev-userpool","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.195.0","metadata":[{"userPoolName":"*","selfSignUpEnabled":true,"signInAliases":{"email":true},"autoVerify":{"email":true},"passwordPolicy":{"minLength":"*","requireDigits":true,"requireLowercase":true,"requireUppercase":false,"requireSymbols":false},"accountRecovery":2}]}},"UserPoolClient":{"id":"UserPoolClient","path":"dev-AuthStack/UserPoolClient","children":{"Resource":{"id":"Resource","path":"dev-AuthStack/UserPoolClient/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"allowedOAuthFlows":["implicit","code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["profile","phone","email","openid","aws.cognito.signin.user.admin"],"callbackUrLs":["https://example.com"],"generateSecret":false,"supportedIdentityProviders":["COGNITO"],"userPoolId":{"Ref":"UserPool6BA7E5F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.195.0","metadata":[{"userPool":"*","generateSecret":false}]}},"IdentityPool":{"id":"IdentityPool","path":"dev-AuthStack/IdentityPool","attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::IdentityPool","aws:cdk:cloudformation:props":{"allowUnauthenticatedIdentities":false,"cognitoIdentityProviders":[{"clientId":{"Ref":"UserPoolClient2F5918F7"},"providerName":{"Fn::GetAtt":["UserPool6BA7E5F2","ProviderName"]}}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnIdentityPool","version":"2.195.0"}},"UserPoolIdParam":{"id":"UserPoolIdParam","path":"dev-AuthStack/UserPoolIdParam","children":{"Resource":{"id":"Resource","path":"dev-AuthStack/UserPoolIdParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"User Pool ID for Smart Home App","name":"/auth/dev-AuthStack/userPoolId","type":"String","value":{"Ref":"UserPool6BA7E5F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"UserPoolClientIdParam":{"id":"UserPoolClientIdParam","path":"dev-AuthStack/UserPoolClientIdParam","children":{"Resource":{"id":"Resource","path":"dev-AuthStack/UserPoolClientIdParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"User Pool Client ID for Smart Home App","name":"/auth/dev-AuthStack/userPoolClientId","type":"String","value":{"Ref":"UserPoolClient2F5918F7"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"IdentityPoolIdParam":{"id":"IdentityPoolIdParam","path":"dev-AuthStack/IdentityPoolIdParam","children":{"Resource":{"id":"Resource","path":"dev-AuthStack/IdentityPoolIdParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Identity Pool ID for Smart Home App","name":"/auth/dev-AuthStack/identityPoolId","type":"String","value":{"Ref":"IdentityPool"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"UserPoolId":{"id":"UserPoolId","path":"dev-AuthStack/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"dev-AuthStack/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"IdentityPoolId":{"id":"IdentityPoolId","path":"dev-AuthStack/IdentityPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"dev-AuthStack/CDKMetadata","children":{"Default":{"id":"Default","path":"dev-AuthStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Exports":{"id":"Exports","path":"dev-AuthStack/Exports","children":{"Output{\"Ref\":\"UserPool6BA7E5F2\"}":{"id":"Output{\"Ref\":\"UserPool6BA7E5F2\"}","path":"dev-AuthStack/Exports/Output{\"Ref\":\"UserPool6BA7E5F2\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Output{\"Ref\":\"UserPoolClient2F5918F7\"}":{"id":"Output{\"Ref\":\"UserPoolClient2F5918F7\"}","path":"dev-AuthStack/Exports/Output{\"Ref\":\"UserPoolClient2F5918F7\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Output{\"Ref\":\"IdentityPool\"}":{"id":"Output{\"Ref\":\"IdentityPool\"}","path":"dev-AuthStack/Exports/Output{\"Ref\":\"IdentityPool\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev-AuthStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.195.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev-AuthStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.195.0"}},"dev-StorageStack":{"id":"dev-StorageStack","path":"dev-StorageStack","children":{"UiPageBucket":{"id":"UiPageBucket","path":"dev-StorageStack/UiPageBucket","children":{"Resource":{"id":"Resource","path":"dev-StorageStack/UiPageBucket/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"corsConfiguration":{"corsRules":[{"allowedHeaders":["*"],"allowedMethods":["GET"],"allowedOrigins":["*"]}]},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.195.0"}},"Policy":{"id":"Policy","path":"dev-StorageStack/UiPageBucket/Policy","children":{"Resource":{"id":"Resource","path":"dev-StorageStack/UiPageBucket/Policy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"UiPageBucketACD75CDC"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["UiPageBucketACD75CDC","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UiPageBucketACD75CDC","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.195.0","metadata":[{"bucket":"*"}]}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"dev-StorageStack/UiPageBucket/AutoDeleteObjectsCustomResource","children":{"Default":{"id":"Default","path":"dev-StorageStack/UiPageBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.195.0","metadata":["*"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.195.0","metadata":[{"removalPolicy":"destroy","autoDeleteObjects":true,"publicReadAccess":false,"cors":[{"allowedMethods":["GET"],"allowedOrigins":"*","allowedHeaders":"*"}]},{"addCorsRule":[{"allowedMethods":["GET"],"allowedOrigins":"*","allowedHeaders":"*"},"*","*"]}]}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"dev-StorageStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","children":{"Staging":{"id":"Staging","path":"dev-StorageStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"Role":{"id":"Role","path":"dev-StorageStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}},"Handler":{"id":"Handler","path":"dev-StorageStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.195.0"}},"OtaFirmwareBucket":{"id":"OtaFirmwareBucket","path":"dev-StorageStack/OtaFirmwareBucket","children":{"Resource":{"id":"Resource","path":"dev-StorageStack/OtaFirmwareBucket/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"versioningConfiguration":{"status":"Enabled"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.195.0","metadata":[{"removalPolicy":"retain","versioned":true,"publicReadAccess":false}]}},"DeviceLogsBucket":{"id":"DeviceLogsBucket","path":"dev-StorageStack/DeviceLogsBucket","children":{"Resource":{"id":"Resource","path":"dev-StorageStack/DeviceLogsBucket/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"lifecycleConfiguration":{"rules":[{"expirationInDays":90,"id":"ExpireOldLogs","status":"Enabled"}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.195.0","metadata":[{"removalPolicy":"retain","lifecycleRules":[{"id":"*","enabled":true}]},{"addLifecycleRule":[{"id":"*","enabled":true},"*","*"]}]}},"UiBucketNameParam":{"id":"UiBucketNameParam","path":"dev-StorageStack/UiBucketNameParam","children":{"Resource":{"id":"Resource","path":"dev-StorageStack/UiBucketNameParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"S3 bucket for UI pages","name":"/dev/ui/s3BucketName","type":"String","value":{"Ref":"UiPageBucketACD75CDC"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"UiBucketUrlParam":{"id":"UiBucketUrlParam","path":"dev-StorageStack/UiBucketUrlParam","children":{"Resource":{"id":"Resource","path":"dev-StorageStack/UiBucketUrlParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"S3 bucket URL for UI pages","name":"/dev/ui/s3BucketUrl","type":"String","value":{"Fn::Join":["",["https://",{"Ref":"UiPageBucketACD75CDC"},".s3.us-east-1.amazonaws.com"]]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"OtaBucketNameParam":{"id":"OtaBucketNameParam","path":"dev-StorageStack/OtaBucketNameParam","children":{"Resource":{"id":"Resource","path":"dev-StorageStack/OtaBucketNameParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"S3 bucket for OTA firmware","name":"/dev/ota/bucketName","type":"String","value":{"Ref":"OtaFirmwareBucket8CCE4052"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"OtaBucketUrlParam":{"id":"OtaBucketUrlParam","path":"dev-StorageStack/OtaBucketUrlParam","children":{"Resource":{"id":"Resource","path":"dev-StorageStack/OtaBucketUrlParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"S3 bucket URL for OTA firmware","name":"/dev/ota/bucketUrl","type":"String","value":{"Fn::Join":["",["https://",{"Ref":"OtaFirmwareBucket8CCE4052"},".s3.us-east-1.amazonaws.com"]]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"LogsBucketNameParam":{"id":"LogsBucketNameParam","path":"dev-StorageStack/LogsBucketNameParam","children":{"Resource":{"id":"Resource","path":"dev-StorageStack/LogsBucketNameParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"S3 bucket for device logs","name":"/dev/logs/bucketName","type":"String","value":{"Ref":"DeviceLogsBucketCE8D3AB0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"UiBucketName":{"id":"UiBucketName","path":"dev-StorageStack/UiBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"UiBucketUrl":{"id":"UiBucketUrl","path":"dev-StorageStack/UiBucketUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"OtaBucketName":{"id":"OtaBucketName","path":"dev-StorageStack/OtaBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"OtaBucketUrl":{"id":"OtaBucketUrl","path":"dev-StorageStack/OtaBucketUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"LogsBucketName":{"id":"LogsBucketName","path":"dev-StorageStack/LogsBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"dev-StorageStack/CDKMetadata","children":{"Default":{"id":"Default","path":"dev-StorageStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Exports":{"id":"Exports","path":"dev-StorageStack/Exports","children":{"Output{\"Ref\":\"UiPageBucketACD75CDC\"}":{"id":"Output{\"Ref\":\"UiPageBucketACD75CDC\"}","path":"dev-StorageStack/Exports/Output{\"Ref\":\"UiPageBucketACD75CDC\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Output{\"Ref\":\"OtaFirmwareBucket8CCE4052\"}":{"id":"Output{\"Ref\":\"OtaFirmwareBucket8CCE4052\"}","path":"dev-StorageStack/Exports/Output{\"Ref\":\"OtaFirmwareBucket8CCE4052\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Output{\"Ref\":\"DeviceLogsBucketCE8D3AB0\"}":{"id":"Output{\"Ref\":\"DeviceLogsBucketCE8D3AB0\"}","path":"dev-StorageStack/Exports/Output{\"Ref\":\"DeviceLogsBucketCE8D3AB0\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Output{\"Fn::GetAtt\":[\"UiPageBucketACD75CDC\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UiPageBucketACD75CDC\",\"Arn\"]}","path":"dev-StorageStack/Exports/Output{\"Fn::GetAtt\":[\"UiPageBucketACD75CDC\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Output{\"Fn::GetAtt\":[\"OtaFirmwareBucket8CCE4052\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"OtaFirmwareBucket8CCE4052\",\"Arn\"]}","path":"dev-StorageStack/Exports/Output{\"Fn::GetAtt\":[\"OtaFirmwareBucket8CCE4052\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Output{\"Fn::GetAtt\":[\"DeviceLogsBucketCE8D3AB0\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"DeviceLogsBucketCE8D3AB0\",\"Arn\"]}","path":"dev-StorageStack/Exports/Output{\"Fn::GetAtt\":[\"DeviceLogsBucketCE8D3AB0\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev-StorageStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.195.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev-StorageStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.195.0"}},"dev-IoTStack":{"id":"dev-IoTStack","path":"dev-IoTStack","children":{"IoTRegistry":{"id":"IoTRegistry","path":"dev-IoTStack/IoTRegistry","attributes":{"aws:cdk:cloudformation:type":"AWS::IoT::Thing","aws:cdk:cloudformation:props":{"thingName":"SmartHomeRegistry-dev"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iot.CfnThing","version":"2.195.0"}},"DevicePolicy":{"id":"DevicePolicy","path":"dev-IoTStack/DevicePolicy","attributes":{"aws:cdk:cloudformation:type":"AWS::IoT::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Version":"2012-10-17","Statement":[{"Effect":"Allow","Action":["iot:Connect"],"Resource":["arn:aws:iot:${this.region}:${this.account}:client/${iot:Connection.Thing.ThingName}"]},{"Effect":"Allow","Action":["iot:Publish"],"Resource":["arn:aws:iot:${this.region}:${this.account}:topic/iot/status/${iot:Connection.Thing.ThingName}/*","arn:aws:iot:${this.region}:${this.account}:topic/iot/telemetry/${iot:Connection.Thing.ThingName}","arn:aws:iot:${this.region}:${this.account}:topic/$aws/things/${iot:Connection.Thing.ThingName}/*"]},{"Effect":"Allow","Action":["iot:Subscribe"],"Resource":["arn:aws:iot:${this.region}:${this.account}:topicfilter/iot/control/${iot:Connection.Thing.ThingName}/*","arn:aws:iot:${this.region}:${this.account}:topicfilter/$aws/things/${iot:Connection.Thing.ThingName}/*"]},{"Effect":"Allow","Action":["iot:Receive"],"Resource":["arn:aws:iot:${this.region}:${this.account}:topic/iot/control/${iot:Connection.Thing.ThingName}/*","arn:aws:iot:${this.region}:${this.account}:topic/$aws/things/${iot:Connection.Thing.ThingName}/*"]}]},"policyName":"SmartHomeIoTPolicy-dev"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iot.CfnPolicy","version":"2.195.0"}},"ProvisioningRole":{"id":"ProvisioningRole","path":"dev-IoTStack/ProvisioningRole","children":{"ImportProvisioningRole":{"id":"ImportProvisioningRole","path":"dev-IoTStack/ProvisioningRole/ImportProvisioningRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-IoTStack/ProvisioningRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"iot.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSIoTThingsRegistration"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]}]}},"FleetProvisioningTemplate":{"id":"FleetProvisioningTemplate","path":"dev-IoTStack/FleetProvisioningTemplate","attributes":{"aws:cdk:cloudformation:type":"AWS::IoT::ProvisioningTemplate","aws:cdk:cloudformation:props":{"description":"Template for provisioning new IoT devices","enabled":true,"provisioningRoleArn":{"Fn::GetAtt":["ProvisioningRole2348A7C9","Arn"]},"templateBody":"{\"Parameters\":{\"ThingName\":{\"Type\":\"String\"},\"DeviceLocation\":{\"Type\":\"String\",\"Default\":\"unknown\"},\"DeviceType\":{\"Type\":\"String\",\"Default\":\"esp32\"},\"UserId\":{\"Type\":\"String\",\"Default\":\"\"}},\"Resources\":{\"thing\":{\"Type\":\"AWS::IoT::Thing\",\"Properties\":{\"ThingName\":{\"Ref\":\"ThingName\"},\"AttributePayload\":{\"location\":{\"Ref\":\"DeviceLocation\"},\"deviceType\":{\"Ref\":\"DeviceType\"},\"userId\":{\"Ref\":\"UserId\"}}}},\"certificate\":{\"Type\":\"AWS::IoT::Certificate\",\"Properties\":{\"CertificateId\":{\"Ref\":\"AWS::IoT::Certificate::Id\"},\"Status\":\"ACTIVE\"}},\"policy\":{\"Type\":\"AWS::IoT::Policy\",\"Properties\":{\"PolicyName\":\"SmartHomeIoTPolicy-dev\"}}}}","templateName":"SmartHomeProvisioningTemplate-dev"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iot.CfnProvisioningTemplate","version":"2.195.0"}},"CreateCertificateRole":{"id":"CreateCertificateRole","path":"dev-IoTStack/CreateCertificateRole","children":{"ImportCreateCertificateRole":{"id":"ImportCreateCertificateRole","path":"dev-IoTStack/CreateCertificateRole/ImportCreateCertificateRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-IoTStack/CreateCertificateRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AWSIoTFullAccess"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"},{"managedPolicyArn":"*"}]}]}},"CreateCertificateFunction":{"id":"CreateCertificateFunction","path":"dev-IoTStack/CreateCertificateFunction","children":{"Resource":{"id":"Resource","path":"dev-IoTStack/CreateCertificateFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"\n        const AWS = require('aws-sdk');\n        exports.handler = async () => {\n          const iot = new AWS.Iot();\n          const certData = await iot.createKeysAndCertificate({ setAsActive: true }).promise();\n          await iot.attachPolicy({\n            policyName: process.env.POLICY_NAME,\n            target: certData.certificateArn\n          }).promise();\n          return {\n            certificateId: certData.certificateId,\n            certificateArn: certData.certificateArn,\n            certificatePem: certData.certificatePem,\n            privateKey: certData.keyPair.PrivateKey\n          };\n        };\n      "},"environment":{"variables":{"POLICY_NAME":"SmartHomeIoTPolicy-dev"}},"handler":"index.handler","role":{"Fn::GetAtt":["CreateCertificateRoleF3B76817","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","handler":"*","code":"*","timeout":"*","environment":"*","role":"*"},{"addEnvironment":["*","*"]}]}},"DeviceLogsBucket":{"id":"DeviceLogsBucket","path":"dev-IoTStack/DeviceLogsBucket","children":{"Resource":{"id":"Resource","path":"dev-IoTStack/DeviceLogsBucket/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":"smart-home-device-logs-dev-703671935952-deviotstack"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.195.0","metadata":[{"bucketName":"*","removalPolicy":"destroy"}]}},"TelemetryDatabase":{"id":"TelemetryDatabase","path":"dev-IoTStack/TelemetryDatabase","attributes":{"aws:cdk:cloudformation:type":"AWS::Timestream::Database","aws:cdk:cloudformation:props":{"databaseName":"SmartHomeTelemetrydev"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_timestream.CfnDatabase","version":"2.195.0"}},"TelemetryTable":{"id":"TelemetryTable","path":"dev-IoTStack/TelemetryTable","attributes":{"aws:cdk:cloudformation:type":"AWS::Timestream::Table","aws:cdk:cloudformation:props":{"databaseName":{"Ref":"TelemetryDatabase"},"retentionProperties":{"MemoryStoreRetentionPeriodInHours":24,"MagneticStoreRetentionPeriodInDays":30},"tableName":"DeviceTelemetry"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_timestream.CfnTable","version":"2.195.0"}},"DeviceStatusTable":{"id":"DeviceStatusTable","path":"dev-IoTStack/DeviceStatusTable","children":{"Resource":{"id":"Resource","path":"dev-IoTStack/DeviceStatusTable/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"deviceId","attributeType":"S"},{"attributeName":"statusType","attributeType":"S"}],"keySchema":[{"attributeName":"deviceId","keyType":"HASH"},{"attributeName":"statusType","keyType":"RANGE"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5},"tableName":"DeviceStatus"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.195.0"}},"ScalingRole":{"id":"ScalingRole","path":"dev-IoTStack/DeviceStatusTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.195.0","metadata":[{"tableName":"*","partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"removalPolicy":"destroy"}]}},"TimestreamRole":{"id":"TimestreamRole","path":"dev-IoTStack/TimestreamRole","children":{"ImportTimestreamRole":{"id":"ImportTimestreamRole","path":"dev-IoTStack/TimestreamRole/ImportTimestreamRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-IoTStack/TimestreamRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"iot.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonTimestreamFullAccess"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]}]}},"TelemetryRule":{"id":"TelemetryRule","path":"dev-IoTStack/TelemetryRule","attributes":{"aws:cdk:cloudformation:type":"AWS::IoT::TopicRule","aws:cdk:cloudformation:props":{"ruleName":"SmartHomeTelemetrydev","topicRulePayload":{"sql":"SELECT * FROM 'iot/telemetry/+'","actions":[{"timestream":{"databaseName":"SmartHomeTelemetrydev","tableName":"DeviceTelemetry","dimensions":[{"name":"deviceId","value":"${topic(3)}"},{"name":"deviceType","value":"${deviceType}"}],"roleArn":{"Fn::GetAtt":["TimestreamRole66265F7C","Arn"]}}}],"ruleDisabled":false}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iot.CfnTopicRule","version":"2.195.0"}},"DeviceRegistrationRule":{"id":"DeviceRegistrationRule","path":"dev-IoTStack/DeviceRegistrationRule","attributes":{"aws:cdk:cloudformation:type":"AWS::IoT::TopicRule","aws:cdk:cloudformation:props":{"ruleName":"DeviceRegistrationdev","topicRulePayload":{"sql":"SELECT * FROM 'devices/+/describe'","actions":[{"lambda":{"functionArn":{"Fn::ImportValue":"smart-home-dev-lambda-device-registration"}}}],"ruleDisabled":false}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iot.CfnTopicRule","version":"2.195.0"}},"AllowIoTInvokeDeviceRegistration":{"id":"AllowIoTInvokeDeviceRegistration","path":"dev-IoTStack/AllowIoTInvokeDeviceRegistration","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"smart-home-dev-lambda-device-registration"},"principal":"iot.amazonaws.com","sourceArn":{"Fn::GetAtt":["DeviceRegistrationRule","Arn"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.195.0"}},"DescribeIoTEndpoint":{"id":"DescribeIoTEndpoint","path":"dev-IoTStack/DescribeIoTEndpoint","children":{"Provider":{"id":"Provider","path":"dev-IoTStack/DescribeIoTEndpoint/Provider","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.195.0","metadata":[{"uuid":"*","lambdaPurpose":"*","memorySize":"*","timeout":"*","role":"*","logGroup":"*","functionName":"*","vpc":"*","vpcSubnets":"*","code":"*","handler":"*","runtime":"*"},{"addMetadata":["*",true]},{"addMetadata":["*","*"]}]}},"Resource":{"id":"Resource","path":"dev-IoTStack/DescribeIoTEndpoint/Resource","children":{"Default":{"id":"Default","path":"dev-IoTStack/DescribeIoTEndpoint/Resource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.195.0","metadata":["*","*","*"]}},"CustomResourcePolicy":{"id":"CustomResourcePolicy","path":"dev-IoTStack/DescribeIoTEndpoint/CustomResourcePolicy","children":{"Resource":{"id":"Resource","path":"dev-IoTStack/DescribeIoTEndpoint/CustomResourcePolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"iot:DescribeEndpoint","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"DescribeIoTEndpointCustomResourcePolicyBC22FC2C","roles":[{"Ref":"AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.195.0","metadata":[{"statements":"*"},{"addStatements":[{}]},{"attachToRole":["*"]},{"attachToRole":["*"]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.custom_resources.AwsCustomResource","version":"2.195.0"}},"AWS679f53fac002430cb0da5b7982bd2287":{"id":"AWS679f53fac002430cb0da5b7982bd2287","path":"dev-IoTStack/AWS679f53fac002430cb0da5b7982bd2287","children":{"ServiceRole":{"id":"ServiceRole","path":"dev-IoTStack/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev-IoTStack/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-IoTStack/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"attachInlinePolicy":["*"]}]}},"Code":{"id":"Code","path":"dev-IoTStack/AWS679f53fac002430cb0da5b7982bd2287/Code","children":{"Stage":{"id":"Stage","path":"dev-IoTStack/AWS679f53fac002430cb0da5b7982bd2287/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-IoTStack/AWS679f53fac002430cb0da5b7982bd2287/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-IoTStack/AWS679f53fac002430cb0da5b7982bd2287/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"9d043014be736e8162bcc7ec5590cc6d2ff24fd0d9c73a5c5d595151c5fdad00.zip"},"handler":"index.handler","role":{"Fn::GetAtt":["AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2","Arn"]},"runtime":"nodejs20.x","timeout":120}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"memorySize":"*","timeout":"*","role":"*","logGroup":"*","functionName":"*","vpc":"*","vpcSubnets":"*","code":"*","handler":"*","runtime":"*"}]}},"IoTEndpointParam":{"id":"IoTEndpointParam","path":"dev-IoTStack/IoTEndpointParam","children":{"Resource":{"id":"Resource","path":"dev-IoTStack/IoTEndpointParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"IoT endpoint for device connection","name":"/iot/dev/endpoint","type":"String","value":{"Fn::GetAtt":["DescribeIoTEndpointB53F1A7D","endpointAddress"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"IoTEndpoint":{"id":"IoTEndpoint","path":"dev-IoTStack/IoTEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"ProvisioningTemplateName":{"id":"ProvisioningTemplateName","path":"dev-IoTStack/ProvisioningTemplateName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"dev-IoTStack/CDKMetadata","children":{"Default":{"id":"Default","path":"dev-IoTStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Exports":{"id":"Exports","path":"dev-IoTStack/Exports","children":{"Output{\"Fn::GetAtt\":[\"DescribeIoTEndpointB53F1A7D\",\"endpointAddress\"]}":{"id":"Output{\"Fn::GetAtt\":[\"DescribeIoTEndpointB53F1A7D\",\"endpointAddress\"]}","path":"dev-IoTStack/Exports/Output{\"Fn::GetAtt\":[\"DescribeIoTEndpointB53F1A7D\",\"endpointAddress\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev-IoTStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.195.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev-IoTStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.195.0"}},"dev-AnalyticsStack":{"id":"dev-AnalyticsStack","path":"dev-AnalyticsStack","children":{"AnalyticsDatabase":{"id":"AnalyticsDatabase","path":"dev-AnalyticsStack/AnalyticsDatabase","attributes":{"aws:cdk:cloudformation:type":"AWS::Timestream::Database","aws:cdk:cloudformation:props":{"databaseName":"SmartHomeAnalyticsdev"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_timestream.CfnDatabase","version":"2.195.0"}},"DeviceMetricsTable":{"id":"DeviceMetricsTable","path":"dev-AnalyticsStack/DeviceMetricsTable","attributes":{"aws:cdk:cloudformation:type":"AWS::Timestream::Table","aws:cdk:cloudformation:props":{"databaseName":"SmartHomeAnalyticsdev","retentionProperties":{"MemoryStoreRetentionPeriodInHours":"24","MagneticStoreRetentionPeriodInDays":"90"},"tableName":"DeviceMetrics"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_timestream.CfnTable","version":"2.195.0"}},"AnalyticsLambdaRole":{"id":"AnalyticsLambdaRole","path":"dev-AnalyticsStack/AnalyticsLambdaRole","children":{"ImportAnalyticsLambdaRole":{"id":"ImportAnalyticsLambdaRole","path":"dev-AnalyticsStack/AnalyticsLambdaRole/ImportAnalyticsLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-AnalyticsStack/AnalyticsLambdaRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-AnalyticsStack/AnalyticsLambdaRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"dev-AnalyticsStack/AnalyticsLambdaRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["timestream:DescribeDatabase","timestream:DescribeTable","timestream:ListMeasures","timestream:Select","timestream:WriteRecords"],"Effect":"Allow","Resource":["arn:aws:timestream:us-east-1:703671935952:database/SmartHomeAnalyticsdev","arn:aws:timestream:us-east-1:703671935952:database/SmartHomeAnalyticsdev/table/DeviceMetrics"]}],"Version":"2012-10-17"},"policyName":"AnalyticsLambdaRoleDefaultPolicy26AA71F0","roles":[{"Ref":"AnalyticsLambdaRole58749D6E"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.195.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]}},"AnomalyDetectionFunction":{"id":"AnomalyDetectionFunction","path":"dev-AnalyticsStack/AnomalyDetectionFunction","children":{"Code":{"id":"Code","path":"dev-AnalyticsStack/AnomalyDetectionFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-AnalyticsStack/AnomalyDetectionFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-AnalyticsStack/AnomalyDetectionFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-AnalyticsStack/AnomalyDetectionFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Detects anomalies in device metrics","environment":{"variables":{"TIMESTREAM_DATABASE":"SmartHomeAnalyticsdev","TIMESTREAM_TABLE":"DeviceMetrics","STAGE":"dev"}},"functionName":"SmartHomeApp-dev-lambda-anomaly-detection","handler":"analytics.detectAnomalies","role":{"Fn::GetAtt":["AnalyticsLambdaRole58749D6E","Arn"]},"runtime":"nodejs18.x","timeout":60}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","role":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"InsightsFunction":{"id":"InsightsFunction","path":"dev-AnalyticsStack/InsightsFunction","children":{"Code":{"id":"Code","path":"dev-AnalyticsStack/InsightsFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-AnalyticsStack/InsightsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-AnalyticsStack/InsightsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-AnalyticsStack/InsightsFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Generates insights from device metrics","environment":{"variables":{"TIMESTREAM_DATABASE":"SmartHomeAnalyticsdev","TIMESTREAM_TABLE":"DeviceMetrics","STAGE":"dev"}},"functionName":"SmartHomeApp-dev-lambda-insights","handler":"analytics.generateInsights","role":{"Fn::GetAtt":["AnalyticsLambdaRole58749D6E","Arn"]},"runtime":"nodejs18.x","timeout":60}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","role":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"AnomalyDetectionRule":{"id":"AnomalyDetectionRule","path":"dev-AnalyticsStack/AnomalyDetectionRule","children":{"Resource":{"id":"Resource","path":"dev-AnalyticsStack/AnomalyDetectionRule/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"description":"Trigger anomaly detection every hour","scheduleExpression":"rate(1 hour)","state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["AnomalyDetectionFunction8A8B313C","Arn"]}}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.195.0"}},"AllowEventRuledevAnalyticsStackAnomalyDetectionFunctionBDEF21B5":{"id":"AllowEventRuledevAnalyticsStackAnomalyDetectionFunctionBDEF21B5","path":"dev-AnalyticsStack/AnomalyDetectionRule/AllowEventRuledevAnalyticsStackAnomalyDetectionFunctionBDEF21B5","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AnomalyDetectionFunction8A8B313C","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["AnomalyDetectionRule06E73AB5","Arn"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.195.0","metadata":[{"schedule":"*","description":"*"},{"addEventPattern":["*"]},{"addTarget":[{}]}]}},"InsightsRule":{"id":"InsightsRule","path":"dev-AnalyticsStack/InsightsRule","children":{"Resource":{"id":"Resource","path":"dev-AnalyticsStack/InsightsRule/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"description":"Generate insights daily","scheduleExpression":"rate(1 day)","state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["InsightsFunction67F177CF","Arn"]}}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.195.0"}},"AllowEventRuledevAnalyticsStackInsightsFunction9E859F49":{"id":"AllowEventRuledevAnalyticsStackInsightsFunction9E859F49","path":"dev-AnalyticsStack/InsightsRule/AllowEventRuledevAnalyticsStackInsightsFunction9E859F49","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["InsightsFunction67F177CF","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["InsightsRule5F89DD36","Arn"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.195.0","metadata":[{"schedule":"*","description":"*"},{"addEventPattern":["*"]},{"addTarget":[{}]}]}},"TimestreamDatabaseParam":{"id":"TimestreamDatabaseParam","path":"dev-AnalyticsStack/TimestreamDatabaseParam","children":{"Resource":{"id":"Resource","path":"dev-AnalyticsStack/TimestreamDatabaseParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Timestream database for analytics","name":"/analytics/dev/timestream-database","type":"String","value":"SmartHomeAnalyticsdev"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"TimestreamTableParam":{"id":"TimestreamTableParam","path":"dev-AnalyticsStack/TimestreamTableParam","children":{"Resource":{"id":"Resource","path":"dev-AnalyticsStack/TimestreamTableParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Timestream table for device metrics","name":"/analytics/dev/timestream-table","type":"String","value":"DeviceMetrics"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"TimestreamDatabaseName":{"id":"TimestreamDatabaseName","path":"dev-AnalyticsStack/TimestreamDatabaseName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"TimestreamTableName":{"id":"TimestreamTableName","path":"dev-AnalyticsStack/TimestreamTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"dev-AnalyticsStack/CDKMetadata","children":{"Default":{"id":"Default","path":"dev-AnalyticsStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev-AnalyticsStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.195.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev-AnalyticsStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.195.0"}},"dev-UiJsonStack":{"id":"dev-UiJsonStack","path":"dev-UiJsonStack","children":{"UiJsonBucket":{"id":"UiJsonBucket","path":"dev-UiJsonStack/UiJsonBucket","children":{"Resource":{"id":"Resource","path":"dev-UiJsonStack/UiJsonBucket/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"corsConfiguration":{"corsRules":[{"allowedHeaders":["*"],"allowedMethods":["GET","PUT","POST","HEAD"],"allowedOrigins":["*"],"exposedHeaders":["ETag","x-amz-meta-custom-header"]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"ignorePublicAcls":true}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.195.0","metadata":[{"removalPolicy":"retain","cors":[{"allowedMethods":["GET","PUT","POST","HEAD"],"allowedOrigins":"*","allowedHeaders":"*","exposedHeaders":"*"}],"blockPublicAccess":"*","publicReadAccess":false},{"addCorsRule":[{"allowedMethods":["GET","PUT","POST","HEAD"],"allowedOrigins":"*","allowedHeaders":"*","exposedHeaders":"*"},"*","*"]}]}},"UiJsonLambda":{"id":"UiJsonLambda","path":"dev-UiJsonStack/UiJsonLambda","children":{"ServiceRole":{"id":"ServiceRole","path":"dev-UiJsonStack/UiJsonLambda/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev-UiJsonStack/UiJsonLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-UiJsonStack/UiJsonLambda/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-UiJsonStack/UiJsonLambda/ServiceRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"dev-UiJsonStack/UiJsonLambda/ServiceRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["UiJsonBucket3AA1EB43","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UiJsonBucket3AA1EB43","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"UiJsonLambdaServiceRoleDefaultPolicyAEB3548C","roles":[{"Ref":"UiJsonLambdaServiceRole1A468E00"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.195.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]}},"Code":{"id":"Code","path":"dev-UiJsonStack/UiJsonLambda/Code","children":{"Stage":{"id":"Stage","path":"dev-UiJsonStack/UiJsonLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-UiJsonStack/UiJsonLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-UiJsonStack/UiJsonLambda/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Retrieves UI JSON configurations from S3","environment":{"variables":{"UI_BUCKET":{"Ref":"UiJsonBucket3AA1EB43"},"DEVICES_TABLE":""}},"functionName":"SmartHome-dev-get-ui-json","handler":"ui-json-handler.getUiJson","role":{"Fn::GetAtt":["UiJsonLambdaServiceRole1A468E00","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"GenerateUiJsonLambda":{"id":"GenerateUiJsonLambda","path":"dev-UiJsonStack/GenerateUiJsonLambda","children":{"ServiceRole":{"id":"ServiceRole","path":"dev-UiJsonStack/GenerateUiJsonLambda/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev-UiJsonStack/GenerateUiJsonLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-UiJsonStack/GenerateUiJsonLambda/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-UiJsonStack/GenerateUiJsonLambda/ServiceRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"dev-UiJsonStack/GenerateUiJsonLambda/ServiceRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["UiJsonBucket3AA1EB43","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UiJsonBucket3AA1EB43","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"GenerateUiJsonLambdaServiceRoleDefaultPolicyAF7BE59B","roles":[{"Ref":"GenerateUiJsonLambdaServiceRole7AB59D30"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.195.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]}},"Code":{"id":"Code","path":"dev-UiJsonStack/GenerateUiJsonLambda/Code","children":{"Stage":{"id":"Stage","path":"dev-UiJsonStack/GenerateUiJsonLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-UiJsonStack/GenerateUiJsonLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-UiJsonStack/GenerateUiJsonLambda/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Generates and stores UI JSON configurations in S3","environment":{"variables":{"UI_BUCKET":{"Ref":"UiJsonBucket3AA1EB43"},"DEVICES_TABLE":""}},"functionName":"SmartHome-dev-generate-ui-json","handler":"ui-json-handler.generateUiJson","role":{"Fn::GetAtt":["GenerateUiJsonLambdaServiceRole7AB59D30","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"ClearUiCacheLambda":{"id":"ClearUiCacheLambda","path":"dev-UiJsonStack/ClearUiCacheLambda","children":{"ServiceRole":{"id":"ServiceRole","path":"dev-UiJsonStack/ClearUiCacheLambda/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev-UiJsonStack/ClearUiCacheLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-UiJsonStack/ClearUiCacheLambda/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-UiJsonStack/ClearUiCacheLambda/ServiceRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"dev-UiJsonStack/ClearUiCacheLambda/ServiceRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["UiJsonBucket3AA1EB43","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UiJsonBucket3AA1EB43","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"ClearUiCacheLambdaServiceRoleDefaultPolicyE796B39E","roles":[{"Ref":"ClearUiCacheLambdaServiceRole36D3FBC9"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.195.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]}},"Code":{"id":"Code","path":"dev-UiJsonStack/ClearUiCacheLambda/Code","children":{"Stage":{"id":"Stage","path":"dev-UiJsonStack/ClearUiCacheLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-UiJsonStack/ClearUiCacheLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-UiJsonStack/ClearUiCacheLambda/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Clears UI JSON configuration cache","environment":{"variables":{"UI_BUCKET":{"Ref":"UiJsonBucket3AA1EB43"}}},"functionName":"SmartHome-dev-clear-ui-cache","handler":"ui-json-handler.clearUiCache","role":{"Fn::GetAtt":["ClearUiCacheLambdaServiceRole36D3FBC9","Arn"]},"runtime":"nodejs18.x","timeout":10}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]}]}},"UiJsonStagingBucket":{"id":"UiJsonStagingBucket","path":"dev-UiJsonStack/UiJsonStagingBucket","children":{"Resource":{"id":"Resource","path":"dev-UiJsonStack/UiJsonStagingBucket/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"aws-cdk:cr-owned:87350377","value":"true"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.195.0"}},"Policy":{"id":"Policy","path":"dev-UiJsonStack/UiJsonStagingBucket/Policy","children":{"Resource":{"id":"Resource","path":"dev-UiJsonStack/UiJsonStagingBucket/Policy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"UiJsonStagingBucketB6D1007F"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["UiJsonStagingBucketB6D1007F","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UiJsonStagingBucketB6D1007F","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.195.0","metadata":[{"bucket":"*"}]}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"dev-UiJsonStack/UiJsonStagingBucket/AutoDeleteObjectsCustomResource","children":{"Default":{"id":"Default","path":"dev-UiJsonStack/UiJsonStagingBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.195.0","metadata":["*"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.195.0","metadata":[{"removalPolicy":"destroy","autoDeleteObjects":true,"versioned":false}]}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"dev-UiJsonStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","children":{"Staging":{"id":"Staging","path":"dev-UiJsonStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"Role":{"id":"Role","path":"dev-UiJsonStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}},"Handler":{"id":"Handler","path":"dev-UiJsonStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.195.0"}},"DeployUiJson":{"id":"DeployUiJson","path":"dev-UiJsonStack/DeployUiJson","children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"dev-UiJsonStack/DeployUiJson/AwsCliLayer","children":{"Code":{"id":"Code","path":"dev-UiJsonStack/DeployUiJson/AwsCliLayer/Code","children":{"Stage":{"id":"Stage","path":"dev-UiJsonStack/DeployUiJson/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-UiJsonStack/DeployUiJson/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-UiJsonStack/DeployUiJson/AwsCliLayer/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"8a84a8f465fbe0c48af2c256847ec9abfe095d23781b749728b998315f3ad732.zip"},"description":"/opt/awscli/aws"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.195.0","metadata":[{}]}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"dev-UiJsonStack/DeployUiJson/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.195.0","metadata":[{"uuid":"*","layers":["*"],"environment":"*","lambdaPurpose":"*","timeout":"*","role":"*","memorySize":"*","ephemeralStorageSize":"*","vpc":"*","vpcSubnets":"*","filesystem":"*","logGroup":"*","code":"*","handler":"*","runtime":"*"},{"addMetadata":["*",true]},{"addMetadata":["*","*"]}]}},"Asset1":{"id":"Asset1","path":"dev-UiJsonStack/DeployUiJson/Asset1","children":{"Stage":{"id":"Stage","path":"dev-UiJsonStack/DeployUiJson/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-UiJsonStack/DeployUiJson/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"CustomResource":{"id":"CustomResource","path":"dev-UiJsonStack/DeployUiJson/CustomResource","children":{"Default":{"id":"Default","path":"dev-UiJsonStack/DeployUiJson/CustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.195.0","metadata":["*"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"2.195.0"}},"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C":{"id":"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","path":"dev-UiJsonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","children":{"ServiceRole":{"id":"ServiceRole","path":"dev-UiJsonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev-UiJsonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-UiJsonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-UiJsonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"dev-UiJsonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":["arn:aws:s3:::cdk-hnb659fds-assets-703671935952-us-east-1","arn:aws:s3:::cdk-hnb659fds-assets-703671935952-us-east-1/*"]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["UiJsonStagingBucketB6D1007F","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UiJsonStagingBucketB6D1007F","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF","roles":[{"Ref":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.195.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]}},"Code":{"id":"Code","path":"dev-UiJsonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code","children":{"Stage":{"id":"Stage","path":"dev-UiJsonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-UiJsonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-UiJsonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"9a1fcb4a7ecba81ad70e9d3fb241f6794497da945dae5f25924e4dd002b65f2d.zip"},"environment":{"variables":{"AWS_CA_BUNDLE":"/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"}},"handler":"index.handler","layers":[{"Ref":"DeployUiJsonAwsCliLayer9E1EA3B5"}],"role":{"Fn::GetAtt":["CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265","Arn"]},"runtime":"python3.11","timeout":900}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"layers":["*"],"environment":"*","timeout":"*","role":"*","memorySize":"*","ephemeralStorageSize":"*","vpc":"*","vpcSubnets":"*","filesystem":"*","logGroup":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addLayers":["*"]}]}},"OrganizeUiJson":{"id":"OrganizeUiJson","path":"dev-UiJsonStack/OrganizeUiJson","children":{"ServiceRole":{"id":"ServiceRole","path":"dev-UiJsonStack/OrganizeUiJson/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev-UiJsonStack/OrganizeUiJson/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-UiJsonStack/OrganizeUiJson/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-UiJsonStack/OrganizeUiJson/ServiceRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"dev-UiJsonStack/OrganizeUiJson/ServiceRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["UiJsonStagingBucketB6D1007F","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UiJsonStagingBucketB6D1007F","Arn"]},"/*"]]}]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["UiJsonBucket3AA1EB43","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UiJsonBucket3AA1EB43","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"OrganizeUiJsonServiceRoleDefaultPolicyF642D0A0","roles":[{"Ref":"OrganizeUiJsonServiceRole1C15191F"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.195.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]}},"Code":{"id":"Code","path":"dev-UiJsonStack/OrganizeUiJson/Code","children":{"Stage":{"id":"Stage","path":"dev-UiJsonStack/OrganizeUiJson/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-UiJsonStack/OrganizeUiJson/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-UiJsonStack/OrganizeUiJson/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"environment":{"variables":{"SOURCE_BUCKET":{"Ref":"UiJsonStagingBucketB6D1007F"},"UI_BUCKET":{"Ref":"UiJsonBucket3AA1EB43"}}},"handler":"organize-ui-json.handler","role":{"Fn::GetAtt":["OrganizeUiJsonServiceRole1C15191F","Arn"]},"runtime":"nodejs18.x","timeout":60}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","environment":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"UiJsonOrganizerProvider":{"id":"UiJsonOrganizerProvider","path":"dev-UiJsonStack/UiJsonOrganizerProvider","children":{"framework-onEvent":{"id":"framework-onEvent","path":"dev-UiJsonStack/UiJsonOrganizerProvider/framework-onEvent","children":{"ServiceRole":{"id":"ServiceRole","path":"dev-UiJsonStack/UiJsonOrganizerProvider/framework-onEvent/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev-UiJsonStack/UiJsonOrganizerProvider/framework-onEvent/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-UiJsonStack/UiJsonOrganizerProvider/framework-onEvent/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-UiJsonStack/UiJsonOrganizerProvider/framework-onEvent/ServiceRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"dev-UiJsonStack/UiJsonOrganizerProvider/framework-onEvent/ServiceRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["OrganizeUiJson619C5254","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["OrganizeUiJson619C5254","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":{"Fn::GetAtt":["OrganizeUiJson619C5254","Arn"]}}],"Version":"2012-10-17"},"policyName":"UiJsonOrganizerProviderframeworkonEventServiceRoleDefaultPolicy74F26B64","roles":[{"Ref":"UiJsonOrganizerProviderframeworkonEventServiceRole3DDA4CF8"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.195.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]}},"Code":{"id":"Code","path":"dev-UiJsonStack/UiJsonOrganizerProvider/framework-onEvent/Code","children":{"Stage":{"id":"Stage","path":"dev-UiJsonStack/UiJsonOrganizerProvider/framework-onEvent/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-UiJsonStack/UiJsonOrganizerProvider/framework-onEvent/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-UiJsonStack/UiJsonOrganizerProvider/framework-onEvent/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"bdc104ed9cab1b5b6421713c8155f0b753380595356f710400609664d3635eca.zip"},"description":"AWS CDK resource provider framework - onEvent (dev-UiJsonStack/UiJsonOrganizerProvider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["OrganizeUiJson619C5254","Arn"]}}},"handler":"framework.onEvent","role":{"Fn::GetAtt":["UiJsonOrganizerProviderframeworkonEventServiceRole3DDA4CF8","Arn"]},"runtime":"nodejs20.x","timeout":900}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"code":"*","description":"*","runtime":"*","handler":"*","timeout":"*","logGroup":"*","vpc":"*","vpcSubnets":"*","securityGroups":"*","role":"*","functionName":"*","environmentEncryption":"*"},{"addEnvironment":["*","*"]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.custom_resources.Provider","version":"2.195.0"}},"UiJsonOrganizer":{"id":"UiJsonOrganizer","path":"dev-UiJsonStack/UiJsonOrganizer","children":{"Default":{"id":"Default","path":"dev-UiJsonStack/UiJsonOrganizer/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.195.0","metadata":["*"]}},"UiJsonBucketNameParam":{"id":"UiJsonBucketNameParam","path":"dev-UiJsonStack/UiJsonBucketNameParam","children":{"Resource":{"id":"Resource","path":"dev-UiJsonStack/UiJsonBucketNameParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"S3 bucket for UI JSON files","name":"/smart-home/dev/ui-json-bucket-name","type":"String","value":{"Ref":"UiJsonBucket3AA1EB43"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"UiJsonLambdaArnParam":{"id":"UiJsonLambdaArnParam","path":"dev-UiJsonStack/UiJsonLambdaArnParam","children":{"Resource":{"id":"Resource","path":"dev-UiJsonStack/UiJsonLambdaArnParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Lambda function ARN for UI JSON retrieval","name":"/smart-home/dev/ui-json-lambda-arn","type":"String","value":{"Fn::GetAtt":["UiJsonLambda9788CDA3","Arn"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"GenerateUiJsonLambdaArnParam":{"id":"GenerateUiJsonLambdaArnParam","path":"dev-UiJsonStack/GenerateUiJsonLambdaArnParam","children":{"Resource":{"id":"Resource","path":"dev-UiJsonStack/GenerateUiJsonLambdaArnParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Lambda function ARN for UI JSON generation","name":"/smart-home/dev/generate-ui-json-lambda-arn","type":"String","value":{"Fn::GetAtt":["GenerateUiJsonLambdaE01B1059","Arn"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"UiJsonBucketName":{"id":"UiJsonBucketName","path":"dev-UiJsonStack/UiJsonBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"UiJsonLambdaArn":{"id":"UiJsonLambdaArn","path":"dev-UiJsonStack/UiJsonLambdaArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"GenerateUiJsonLambdaArn":{"id":"GenerateUiJsonLambdaArn","path":"dev-UiJsonStack/GenerateUiJsonLambdaArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"dev-UiJsonStack/CDKMetadata","children":{"Default":{"id":"Default","path":"dev-UiJsonStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Exports":{"id":"Exports","path":"dev-UiJsonStack/Exports","children":{"Output{\"Ref\":\"UiJsonBucket3AA1EB43\"}":{"id":"Output{\"Ref\":\"UiJsonBucket3AA1EB43\"}","path":"dev-UiJsonStack/Exports/Output{\"Ref\":\"UiJsonBucket3AA1EB43\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Output{\"Fn::GetAtt\":[\"UiJsonLambda9788CDA3\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UiJsonLambda9788CDA3\",\"Arn\"]}","path":"dev-UiJsonStack/Exports/Output{\"Fn::GetAtt\":[\"UiJsonLambda9788CDA3\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev-UiJsonStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.195.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev-UiJsonStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.195.0"}},"dev-MonitoringStack":{"id":"dev-MonitoringStack","path":"dev-MonitoringStack","children":{"AlarmTopic":{"id":"AlarmTopic","path":"dev-MonitoringStack/AlarmTopic","children":{"Resource":{"id":"Resource","path":"dev-MonitoringStack/AlarmTopic/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"displayName":"Smart Home Alarms (dev)","topicName":"SmartHomeAlarms-dev"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.195.0"}},"admin@example.com":{"id":"admin@example.com","path":"dev-MonitoringStack/AlarmTopic/admin@example.com","children":{"Resource":{"id":"Resource","path":"dev-MonitoringStack/AlarmTopic/admin@example.com/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":"admin@example.com","protocol":"email","topicArn":{"Ref":"AlarmTopicD01E77F9"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.195.0","metadata":[{"topic":"*","endpoint":"*","protocol":"email","filterPolicy":"*","filterPolicyWithMessageBody":"*","deadLetterQueue":"*"}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.195.0","metadata":[{"topicName":"*","displayName":"*"}]}},"IoTAlertRole":{"id":"IoTAlertRole","path":"dev-MonitoringStack/IoTAlertRole","children":{"ImportIoTAlertRole":{"id":"ImportIoTAlertRole","path":"dev-MonitoringStack/IoTAlertRole/ImportIoTAlertRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-MonitoringStack/IoTAlertRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"iot.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[]}]}},"IoTSecurityProfile":{"id":"IoTSecurityProfile","path":"dev-MonitoringStack/IoTSecurityProfile","attributes":{"aws:cdk:cloudformation:type":"AWS::IoT::SecurityProfile","aws:cdk:cloudformation:props":{"alertTargets":{"SNS":{"alertTargetArn":{"Ref":"AlarmTopicD01E77F9"},"roleArn":{"Fn::GetAtt":["IoTAlertRoleB5740132","Arn"]}}},"behaviors":[{"name":"MessageSizeLimit","metric":"aws:message-byte-size","criteria":{"comparisonOperator":"greater-than","value":{"count":"10240"},"consecutiveDatapointsToAlarm":1,"consecutiveDatapointsToClear":1}},{"name":"MessageRateLimit","metric":"aws:num-messages-received","criteria":{"comparisonOperator":"greater-than","value":{"count":"100"},"durationSeconds":60,"consecutiveDatapointsToAlarm":1,"consecutiveDatapointsToClear":1}},{"name":"ConnectionAttempts","metric":"aws:num-connection-attempts","criteria":{"comparisonOperator":"greater-than","value":{"count":"10"},"durationSeconds":60,"consecutiveDatapointsToAlarm":1,"consecutiveDatapointsToClear":1}}],"securityProfileDescription":"Security profile for Smart Home IoT devices","securityProfileName":"SmartHomeSecurityProfile-dev"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iot.CfnSecurityProfile","version":"2.195.0"}},"AlertProcessorFunction":{"id":"AlertProcessorFunction","path":"dev-MonitoringStack/AlertProcessorFunction","children":{"ServiceRole":{"id":"ServiceRole","path":"dev-MonitoringStack/AlertProcessorFunction/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev-MonitoringStack/AlertProcessorFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-MonitoringStack/AlertProcessorFunction/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-MonitoringStack/AlertProcessorFunction/ServiceRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"dev-MonitoringStack/AlertProcessorFunction/ServiceRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sns:Publish","Effect":"Allow","Resource":{"Ref":"AlarmTopicD01E77F9"}}],"Version":"2012-10-17"},"policyName":"AlertProcessorFunctionServiceRoleDefaultPolicy49F362E7","roles":[{"Ref":"AlertProcessorFunctionServiceRole36330820"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.195.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]}},"Code":{"id":"Code","path":"dev-MonitoringStack/AlertProcessorFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-MonitoringStack/AlertProcessorFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-MonitoringStack/AlertProcessorFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-MonitoringStack/AlertProcessorFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Processes IoT alerts and takes action","environment":{"variables":{"STAGE":"dev","ALARM_TOPIC_ARN":{"Ref":"AlarmTopicD01E77F9"}}},"functionName":"SmartHomeApp-dev-lambda-alert-processor","handler":"monitoring.processAlert","role":{"Fn::GetAtt":["AlertProcessorFunctionServiceRole36330820","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"LambdaErrorsAlarm":{"id":"LambdaErrorsAlarm","path":"dev-MonitoringStack/LambdaErrorsAlarm","children":{"Resource":{"id":"Resource","path":"dev-MonitoringStack/LambdaErrorsAlarm/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"AlarmTopicD01E77F9"}],"alarmDescription":{"Fn::Join":["",["Alert when ",{"Ref":"AlertProcessorFunction53E18110"}," has errors"]]},"alarmName":{"Fn::Join":["",[{"Ref":"AlertProcessorFunction53E18110"},"-Errors-dev"]]},"comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Ref":"AlertProcessorFunction53E18110"}}],"evaluationPeriods":1,"metricName":"Errors","namespace":"AWS/Lambda","period":60,"statistic":"Sum","threshold":1,"treatMissingData":"notBreaching"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.195.0","metadata":[{"metric":{"warnings":"*"},"threshold":"*","evaluationPeriods":"*","alarmDescription":"*","alarmName":"*","comparisonOperator":"*","treatMissingData":"notBreaching"},{"addAlarmAction":[{}]}]}},"SmartHomeDashboard":{"id":"SmartHomeDashboard","path":"dev-MonitoringStack/SmartHomeDashboard","children":{"Resource":{"id":"Resource","path":"dev-MonitoringStack/SmartHomeDashboard/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Lambda Errors\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/Lambda\",\"Errors\",\"FunctionName\",\"",{"Ref":"AlertProcessorFunction53E18110"},"\",{\"period\":60,\"stat\":\"Sum\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":12,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"IoT Messages\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/IoT\",\"PublishIn.Success\",{\"period\":60,\"stat\":\"Sum\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"SmartHome-dev-Dashboard"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.195.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"},"*"]}]}},"AlarmTopicArnParam":{"id":"AlarmTopicArnParam","path":"dev-MonitoringStack/AlarmTopicArnParam","children":{"Resource":{"id":"Resource","path":"dev-MonitoringStack/AlarmTopicArnParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"SNS topic ARN for alarms","name":"/dev/monitoring/alarmTopicArn","type":"String","value":{"Ref":"AlarmTopicD01E77F9"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"AlarmTopicArn":{"id":"AlarmTopicArn","path":"dev-MonitoringStack/AlarmTopicArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"SecurityProfileName":{"id":"SecurityProfileName","path":"dev-MonitoringStack/SecurityProfileName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"DashboardName":{"id":"DashboardName","path":"dev-MonitoringStack/DashboardName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"dev-MonitoringStack/CDKMetadata","children":{"Default":{"id":"Default","path":"dev-MonitoringStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Exports":{"id":"Exports","path":"dev-MonitoringStack/Exports","children":{"Output{\"Ref\":\"AlarmTopicD01E77F9\"}":{"id":"Output{\"Ref\":\"AlarmTopicD01E77F9\"}","path":"dev-MonitoringStack/Exports/Output{\"Ref\":\"AlarmTopicD01E77F9\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev-MonitoringStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.195.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev-MonitoringStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.195.0"}},"dev-LambdaStack":{"id":"dev-LambdaStack","path":"dev-LambdaStack","children":{"DevicesTable":{"id":"DevicesTable","path":"dev-LambdaStack/DevicesTable","children":{"Resource":{"id":"Resource","path":"dev-LambdaStack/DevicesTable/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"id","attributeType":"S"},{"attributeName":"userId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"UserDevicesIndex","keySchema":[{"attributeName":"userId","keyType":"HASH"},{"attributeName":"id","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"id","keyType":"HASH"},{"attributeName":"userId","keyType":"RANGE"}],"tableName":"SmartHomeDevices-dev"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.195.0"}},"ScalingRole":{"id":"ScalingRole","path":"dev-LambdaStack/DevicesTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.195.0","metadata":[{"tableName":"*","partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"billingMode":"PAY_PER_REQUEST","removalPolicy":"retain"},{"addGlobalSecondaryIndex":[{"indexName":"*","partitionKey":{"name":"*","type":"S"},"projectionType":"ALL"}]}]}},"DeviceStatusTable":{"id":"DeviceStatusTable","path":"dev-LambdaStack/DeviceStatusTable","children":{"Resource":{"id":"Resource","path":"dev-LambdaStack/DeviceStatusTable/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"deviceId","attributeType":"S"},{"attributeName":"statusType","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"deviceId","keyType":"HASH"},{"attributeName":"statusType","keyType":"RANGE"}],"tableName":"SmartHomeDeviceStatus-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.195.0"}},"ScalingRole":{"id":"ScalingRole","path":"dev-LambdaStack/DeviceStatusTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.195.0","metadata":[{"tableName":"*","partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"billingMode":"PAY_PER_REQUEST","removalPolicy":"retain","timeToLiveAttribute":"*"}]}},"LambdaExecutionRole":{"id":"LambdaExecutionRole","path":"dev-LambdaStack/LambdaExecutionRole","children":{"ImportLambdaExecutionRole":{"id":"ImportLambdaExecutionRole","path":"dev-LambdaStack/LambdaExecutionRole/ImportLambdaExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-LambdaStack/LambdaExecutionRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonSSMReadOnlyAccess"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-LambdaStack/LambdaExecutionRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"dev-LambdaStack/LambdaExecutionRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["iot:Connect","iot:CreateThing","iot:DeleteThing","iot:DescribeThing","iot:ListThings","iot:Publish","iot:Receive","iot:Subscribe","iot:UpdateThing"],"Effect":"Allow","Resource":"*"},{"Action":["dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["DeviceStatusTable6D00E57F","Arn"]},{"Fn::GetAtt":["DevicesTableD0A940EE","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["DevicesTableD0A940EE","Arn"]},"/index/*"]]}]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"dev-StorageStack:ExportsOutputFnGetAttOtaFirmwareBucket8CCE4052Arn99917228"},{"Fn::ImportValue":"dev-StorageStack:ExportsOutputFnGetAttUiPageBucketACD75CDCArnA345B924"},{"Fn::Join":["",[{"Fn::ImportValue":"dev-StorageStack:ExportsOutputFnGetAttOtaFirmwareBucket8CCE4052Arn99917228"},"/*"]]},{"Fn::Join":["",[{"Fn::ImportValue":"dev-StorageStack:ExportsOutputFnGetAttUiPageBucketACD75CDCArnA345B924"},"/*"]]}]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"dev-StorageStack:ExportsOutputFnGetAttDeviceLogsBucketCE8D3AB0Arn56810752"},{"Fn::Join":["",[{"Fn::ImportValue":"dev-StorageStack:ExportsOutputFnGetAttDeviceLogsBucketCE8D3AB0Arn56810752"},"/*"]]}]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"dev-StorageStack:ExportsOutputFnGetAttOtaFirmwareBucket8CCE4052Arn99917228"},{"Fn::Join":["",[{"Fn::ImportValue":"dev-StorageStack:ExportsOutputFnGetAttOtaFirmwareBucket8CCE4052Arn99917228"},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"LambdaExecutionRoleDefaultPolicy6D69732F","roles":[{"Ref":"LambdaExecutionRoleD5C26073"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.195.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"},{"managedPolicyArn":"*"}]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]}},"get-ui-pageFunction":{"id":"get-ui-pageFunction","path":"dev-LambdaStack/get-ui-pageFunction","children":{"Code":{"id":"Code","path":"dev-LambdaStack/get-ui-pageFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-LambdaStack/get-ui-pageFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-LambdaStack/get-ui-pageFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-LambdaStack/get-ui-pageFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Retrieves UI configuration for devices","environment":{"variables":{"STAGE":"dev","UI_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefUiPageBucketACD75CDC1A70A78F"},"DEVICES_TABLE":{"Ref":"DevicesTableD0A940EE"},"DEVICE_STATUS_TABLE":{"Ref":"DeviceStatusTable6D00E57F"},"IOT_ENDPOINT":{"Fn::ImportValue":"dev-IoTStack:ExportsOutputFnGetAttDescribeIoTEndpointB53F1A7DendpointAddressAF0B54D1"},"USER_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefUserPool6BA7E5F296FD7236"},"IDENTITY_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefIdentityPoolF5C140BA"},"OTA_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefOtaFirmwareBucket8CCE4052C90303CC"},"LOGS_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefDeviceLogsBucketCE8D3AB0010B4F1E"}}},"functionName":"smart-home-dev-lambda-get-ui-page","handler":"ui-page.handler","role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","role":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"get-ui-pageFunctionParam":{"id":"get-ui-pageFunctionParam","path":"dev-LambdaStack/get-ui-pageFunctionParam","children":{"Resource":{"id":"Resource","path":"dev-LambdaStack/get-ui-pageFunctionParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"name":"smart-home-dev-lambda-get-ui-page","type":"String","value":{"Ref":"getuipageFunctionFA3AEF0D"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*"}]}},"get-my-devicesFunction":{"id":"get-my-devicesFunction","path":"dev-LambdaStack/get-my-devicesFunction","children":{"Code":{"id":"Code","path":"dev-LambdaStack/get-my-devicesFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-LambdaStack/get-my-devicesFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-LambdaStack/get-my-devicesFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-LambdaStack/get-my-devicesFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Lists devices for a user","environment":{"variables":{"STAGE":"dev","UI_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefUiPageBucketACD75CDC1A70A78F"},"DEVICES_TABLE":{"Ref":"DevicesTableD0A940EE"},"DEVICE_STATUS_TABLE":{"Ref":"DeviceStatusTable6D00E57F"},"IOT_ENDPOINT":{"Fn::ImportValue":"dev-IoTStack:ExportsOutputFnGetAttDescribeIoTEndpointB53F1A7DendpointAddressAF0B54D1"},"USER_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefUserPool6BA7E5F296FD7236"},"IDENTITY_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefIdentityPoolF5C140BA"},"OTA_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefOtaFirmwareBucket8CCE4052C90303CC"},"LOGS_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefDeviceLogsBucketCE8D3AB0010B4F1E"}}},"functionName":"smart-home-dev-lambda-get-my-devices","handler":"devices.getDevices","role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","role":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"get-my-devicesFunctionParam":{"id":"get-my-devicesFunctionParam","path":"dev-LambdaStack/get-my-devicesFunctionParam","children":{"Resource":{"id":"Resource","path":"dev-LambdaStack/get-my-devicesFunctionParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"name":"smart-home-dev-lambda-get-my-devices","type":"String","value":{"Ref":"getmydevicesFunction117EAF4A"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*"}]}},"get-device-stateFunction":{"id":"get-device-stateFunction","path":"dev-LambdaStack/get-device-stateFunction","children":{"Code":{"id":"Code","path":"dev-LambdaStack/get-device-stateFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-LambdaStack/get-device-stateFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-LambdaStack/get-device-stateFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-LambdaStack/get-device-stateFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Gets current state of a device","environment":{"variables":{"STAGE":"dev","UI_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefUiPageBucketACD75CDC1A70A78F"},"DEVICES_TABLE":{"Ref":"DevicesTableD0A940EE"},"DEVICE_STATUS_TABLE":{"Ref":"DeviceStatusTable6D00E57F"},"IOT_ENDPOINT":{"Fn::ImportValue":"dev-IoTStack:ExportsOutputFnGetAttDescribeIoTEndpointB53F1A7DendpointAddressAF0B54D1"},"USER_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefUserPool6BA7E5F296FD7236"},"IDENTITY_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefIdentityPoolF5C140BA"},"OTA_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefOtaFirmwareBucket8CCE4052C90303CC"},"LOGS_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefDeviceLogsBucketCE8D3AB0010B4F1E"}}},"functionName":"smart-home-dev-lambda-get-device-state","handler":"devices.getDeviceState","role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","role":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"get-device-stateFunctionParam":{"id":"get-device-stateFunctionParam","path":"dev-LambdaStack/get-device-stateFunctionParam","children":{"Resource":{"id":"Resource","path":"dev-LambdaStack/get-device-stateFunctionParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"name":"smart-home-dev-lambda-get-device-state","type":"String","value":{"Ref":"getdevicestateFunction3A1B79F6"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*"}]}},"control-relayFunction":{"id":"control-relayFunction","path":"dev-LambdaStack/control-relayFunction","children":{"Code":{"id":"Code","path":"dev-LambdaStack/control-relayFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-LambdaStack/control-relayFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-LambdaStack/control-relayFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-LambdaStack/control-relayFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Controls device relays via MQTT","environment":{"variables":{"STAGE":"dev","UI_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefUiPageBucketACD75CDC1A70A78F"},"DEVICES_TABLE":{"Ref":"DevicesTableD0A940EE"},"DEVICE_STATUS_TABLE":{"Ref":"DeviceStatusTable6D00E57F"},"IOT_ENDPOINT":{"Fn::ImportValue":"dev-IoTStack:ExportsOutputFnGetAttDescribeIoTEndpointB53F1A7DendpointAddressAF0B54D1"},"USER_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefUserPool6BA7E5F296FD7236"},"IDENTITY_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefIdentityPoolF5C140BA"},"OTA_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefOtaFirmwareBucket8CCE4052C90303CC"},"LOGS_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefDeviceLogsBucketCE8D3AB0010B4F1E"}}},"functionName":"smart-home-dev-lambda-control-relay","handler":"control.relayControl","role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","role":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"control-relayFunctionParam":{"id":"control-relayFunctionParam","path":"dev-LambdaStack/control-relayFunctionParam","children":{"Resource":{"id":"Resource","path":"dev-LambdaStack/control-relayFunctionParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"name":"smart-home-dev-lambda-control-relay","type":"String","value":{"Ref":"controlrelayFunction4F3EACDB"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*"}]}},"register-deviceFunction":{"id":"register-deviceFunction","path":"dev-LambdaStack/register-deviceFunction","children":{"Code":{"id":"Code","path":"dev-LambdaStack/register-deviceFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-LambdaStack/register-deviceFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-LambdaStack/register-deviceFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-LambdaStack/register-deviceFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Links a device to a user","environment":{"variables":{"STAGE":"dev","UI_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefUiPageBucketACD75CDC1A70A78F"},"DEVICES_TABLE":{"Ref":"DevicesTableD0A940EE"},"DEVICE_STATUS_TABLE":{"Ref":"DeviceStatusTable6D00E57F"},"IOT_ENDPOINT":{"Fn::ImportValue":"dev-IoTStack:ExportsOutputFnGetAttDescribeIoTEndpointB53F1A7DendpointAddressAF0B54D1"},"USER_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefUserPool6BA7E5F296FD7236"},"IDENTITY_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefIdentityPoolF5C140BA"},"OTA_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefOtaFirmwareBucket8CCE4052C90303CC"},"LOGS_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefDeviceLogsBucketCE8D3AB0010B4F1E"}}},"functionName":"smart-home-dev-lambda-register-device","handler":"devices.registerDevice","role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","role":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"register-deviceFunctionParam":{"id":"register-deviceFunctionParam","path":"dev-LambdaStack/register-deviceFunctionParam","children":{"Resource":{"id":"Resource","path":"dev-LambdaStack/register-deviceFunctionParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"name":"smart-home-dev-lambda-register-device","type":"String","value":{"Ref":"registerdeviceFunction9219CBCB"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*"}]}},"remove-deviceFunction":{"id":"remove-deviceFunction","path":"dev-LambdaStack/remove-deviceFunction","children":{"Code":{"id":"Code","path":"dev-LambdaStack/remove-deviceFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-LambdaStack/remove-deviceFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-LambdaStack/remove-deviceFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-LambdaStack/remove-deviceFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Removes a device from a user","environment":{"variables":{"STAGE":"dev","UI_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefUiPageBucketACD75CDC1A70A78F"},"DEVICES_TABLE":{"Ref":"DevicesTableD0A940EE"},"DEVICE_STATUS_TABLE":{"Ref":"DeviceStatusTable6D00E57F"},"IOT_ENDPOINT":{"Fn::ImportValue":"dev-IoTStack:ExportsOutputFnGetAttDescribeIoTEndpointB53F1A7DendpointAddressAF0B54D1"},"USER_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefUserPool6BA7E5F296FD7236"},"IDENTITY_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefIdentityPoolF5C140BA"},"OTA_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefOtaFirmwareBucket8CCE4052C90303CC"},"LOGS_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefDeviceLogsBucketCE8D3AB0010B4F1E"}}},"functionName":"smart-home-dev-lambda-remove-device","handler":"devices.removeDevice","role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","role":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"remove-deviceFunctionParam":{"id":"remove-deviceFunctionParam","path":"dev-LambdaStack/remove-deviceFunctionParam","children":{"Resource":{"id":"Resource","path":"dev-LambdaStack/remove-deviceFunctionParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"name":"smart-home-dev-lambda-remove-device","type":"String","value":{"Ref":"removedeviceFunction84CF65FF"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*"}]}},"device-registrationFunction":{"id":"device-registrationFunction","path":"dev-LambdaStack/device-registrationFunction","children":{"Code":{"id":"Code","path":"dev-LambdaStack/device-registrationFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-LambdaStack/device-registrationFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-LambdaStack/device-registrationFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-LambdaStack/device-registrationFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Processes new device registrations","environment":{"variables":{"STAGE":"dev","UI_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefUiPageBucketACD75CDC1A70A78F"},"DEVICES_TABLE":{"Ref":"DevicesTableD0A940EE"},"DEVICE_STATUS_TABLE":{"Ref":"DeviceStatusTable6D00E57F"},"IOT_ENDPOINT":{"Fn::ImportValue":"dev-IoTStack:ExportsOutputFnGetAttDescribeIoTEndpointB53F1A7DendpointAddressAF0B54D1"},"USER_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefUserPool6BA7E5F296FD7236"},"IDENTITY_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefIdentityPoolF5C140BA"},"OTA_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefOtaFirmwareBucket8CCE4052C90303CC"},"LOGS_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefDeviceLogsBucketCE8D3AB0010B4F1E"}}},"functionName":"smart-home-dev-lambda-device-registration","handler":"iot.deviceRegistration","role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","role":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"device-registrationFunctionParam":{"id":"device-registrationFunctionParam","path":"dev-LambdaStack/device-registrationFunctionParam","children":{"Resource":{"id":"Resource","path":"dev-LambdaStack/device-registrationFunctionParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"name":"smart-home-dev-lambda-device-registration","type":"String","value":{"Ref":"deviceregistrationFunction0549453E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*"}]}},"get-analyticsFunction":{"id":"get-analyticsFunction","path":"dev-LambdaStack/get-analyticsFunction","children":{"Code":{"id":"Code","path":"dev-LambdaStack/get-analyticsFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-LambdaStack/get-analyticsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-LambdaStack/get-analyticsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-LambdaStack/get-analyticsFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Retrieves device analytics data","environment":{"variables":{"STAGE":"dev","UI_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefUiPageBucketACD75CDC1A70A78F"},"DEVICES_TABLE":{"Ref":"DevicesTableD0A940EE"},"DEVICE_STATUS_TABLE":{"Ref":"DeviceStatusTable6D00E57F"},"IOT_ENDPOINT":{"Fn::ImportValue":"dev-IoTStack:ExportsOutputFnGetAttDescribeIoTEndpointB53F1A7DendpointAddressAF0B54D1"},"USER_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefUserPool6BA7E5F296FD7236"},"IDENTITY_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefIdentityPoolF5C140BA"},"OTA_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefOtaFirmwareBucket8CCE4052C90303CC"},"LOGS_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefDeviceLogsBucketCE8D3AB0010B4F1E"}}},"functionName":"smart-home-dev-lambda-get-analytics","handler":"analytics.getAnalytics","role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","role":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"get-analyticsFunctionParam":{"id":"get-analyticsFunctionParam","path":"dev-LambdaStack/get-analyticsFunctionParam","children":{"Resource":{"id":"Resource","path":"dev-LambdaStack/get-analyticsFunctionParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"name":"smart-home-dev-lambda-get-analytics","type":"String","value":{"Ref":"getanalyticsFunction6023DC98"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*"}]}},"get-ui-jsonFunction":{"id":"get-ui-jsonFunction","path":"dev-LambdaStack/get-ui-jsonFunction","children":{"Code":{"id":"Code","path":"dev-LambdaStack/get-ui-jsonFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-LambdaStack/get-ui-jsonFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-LambdaStack/get-ui-jsonFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-LambdaStack/get-ui-jsonFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Retrieves UI JSON configurations from S3","environment":{"variables":{"STAGE":"dev","UI_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefUiPageBucketACD75CDC1A70A78F"},"DEVICES_TABLE":{"Ref":"DevicesTableD0A940EE"},"DEVICE_STATUS_TABLE":{"Ref":"DeviceStatusTable6D00E57F"},"IOT_ENDPOINT":{"Fn::ImportValue":"dev-IoTStack:ExportsOutputFnGetAttDescribeIoTEndpointB53F1A7DendpointAddressAF0B54D1"},"USER_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefUserPool6BA7E5F296FD7236"},"IDENTITY_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefIdentityPoolF5C140BA"},"OTA_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefOtaFirmwareBucket8CCE4052C90303CC"},"LOGS_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefDeviceLogsBucketCE8D3AB0010B4F1E"}}},"functionName":"smart-home-dev-lambda-get-ui-json","handler":"ui-json-handler.getUiJson","role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","role":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"get-ui-jsonFunctionParam":{"id":"get-ui-jsonFunctionParam","path":"dev-LambdaStack/get-ui-jsonFunctionParam","children":{"Resource":{"id":"Resource","path":"dev-LambdaStack/get-ui-jsonFunctionParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"name":"smart-home-dev-lambda-get-ui-json","type":"String","value":{"Ref":"getuijsonFunction64B3AB76"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*"}]}},"AutomationFunction":{"id":"AutomationFunction","path":"dev-LambdaStack/AutomationFunction","children":{"Code":{"id":"Code","path":"dev-LambdaStack/AutomationFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-LambdaStack/AutomationFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-LambdaStack/AutomationFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-LambdaStack/AutomationFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Processes automation rules for devices","environment":{"variables":{"STAGE":"dev","DEVICES_TABLE":{"Ref":"DevicesTableD0A940EE"},"DEVICE_STATUS_TABLE":{"Ref":"DeviceStatusTable6D00E57F"},"IOT_ENDPOINT":{"Fn::ImportValue":"dev-IoTStack:ExportsOutputFnGetAttDescribeIoTEndpointB53F1A7DendpointAddressAF0B54D1"}}},"functionName":"smart-home-dev-lambda-automation","handler":"automation.processRules","role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":60}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","role":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"automationFunctionParam":{"id":"automationFunctionParam","path":"dev-LambdaStack/automationFunctionParam","children":{"Resource":{"id":"Resource","path":"dev-LambdaStack/automationFunctionParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"name":"smart-home-dev-lambda-automation","type":"String","value":{"Ref":"AutomationFunctionB1F18E3D"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*"}]}},"OTAUpdateFunction":{"id":"OTAUpdateFunction","path":"dev-LambdaStack/OTAUpdateFunction","children":{"Code":{"id":"Code","path":"dev-LambdaStack/OTAUpdateFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-LambdaStack/OTAUpdateFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-LambdaStack/OTAUpdateFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-LambdaStack/OTAUpdateFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Processes OTA firmware updates for devices","environment":{"variables":{"STAGE":"dev","DEVICES_TABLE":{"Ref":"DevicesTableD0A940EE"},"FIRMWARE_BUCKET":{"Fn::ImportValue":"dev-StorageStack:ExportsOutputRefOtaFirmwareBucket8CCE4052C90303CC"},"IOT_ENDPOINT":{"Fn::ImportValue":"dev-IoTStack:ExportsOutputFnGetAttDescribeIoTEndpointB53F1A7DendpointAddressAF0B54D1"}}},"functionName":"smart-home-dev-lambda-ota-update","handler":"ota.processUpdate","role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs18.x","timeout":60}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","role":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"ota-updateFunctionParam":{"id":"ota-updateFunctionParam","path":"dev-LambdaStack/ota-updateFunctionParam","children":{"Resource":{"id":"Resource","path":"dev-LambdaStack/ota-updateFunctionParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"name":"smart-home-dev-lambda-ota-update","type":"String","value":{"Ref":"OTAUpdateFunctionD9C14360"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*"}]}},"DevicesTableName":{"id":"DevicesTableName","path":"dev-LambdaStack/DevicesTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"DeviceStatusTableName":{"id":"DeviceStatusTableName","path":"dev-LambdaStack/DeviceStatusTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"DeviceRegistrationLambdaExport":{"id":"DeviceRegistrationLambdaExport","path":"dev-LambdaStack/DeviceRegistrationLambdaExport","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"dev-LambdaStack/CDKMetadata","children":{"Default":{"id":"Default","path":"dev-LambdaStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Exports":{"id":"Exports","path":"dev-LambdaStack/Exports","children":{"Output{\"Fn::GetAtt\":[\"getuipageFunctionFA3AEF0D\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"getuipageFunctionFA3AEF0D\",\"Arn\"]}","path":"dev-LambdaStack/Exports/Output{\"Fn::GetAtt\":[\"getuipageFunctionFA3AEF0D\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Output{\"Fn::GetAtt\":[\"getmydevicesFunction117EAF4A\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"getmydevicesFunction117EAF4A\",\"Arn\"]}","path":"dev-LambdaStack/Exports/Output{\"Fn::GetAtt\":[\"getmydevicesFunction117EAF4A\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Output{\"Fn::GetAtt\":[\"getdevicestateFunction3A1B79F6\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"getdevicestateFunction3A1B79F6\",\"Arn\"]}","path":"dev-LambdaStack/Exports/Output{\"Fn::GetAtt\":[\"getdevicestateFunction3A1B79F6\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Output{\"Fn::GetAtt\":[\"controlrelayFunction4F3EACDB\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"controlrelayFunction4F3EACDB\",\"Arn\"]}","path":"dev-LambdaStack/Exports/Output{\"Fn::GetAtt\":[\"controlrelayFunction4F3EACDB\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Output{\"Fn::GetAtt\":[\"registerdeviceFunction9219CBCB\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"registerdeviceFunction9219CBCB\",\"Arn\"]}","path":"dev-LambdaStack/Exports/Output{\"Fn::GetAtt\":[\"registerdeviceFunction9219CBCB\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Output{\"Fn::GetAtt\":[\"removedeviceFunction84CF65FF\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"removedeviceFunction84CF65FF\",\"Arn\"]}","path":"dev-LambdaStack/Exports/Output{\"Fn::GetAtt\":[\"removedeviceFunction84CF65FF\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Output{\"Fn::GetAtt\":[\"getanalyticsFunction6023DC98\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"getanalyticsFunction6023DC98\",\"Arn\"]}","path":"dev-LambdaStack/Exports/Output{\"Fn::GetAtt\":[\"getanalyticsFunction6023DC98\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Output{\"Fn::GetAtt\":[\"getuijsonFunction64B3AB76\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"getuijsonFunction64B3AB76\",\"Arn\"]}","path":"dev-LambdaStack/Exports/Output{\"Fn::GetAtt\":[\"getuijsonFunction64B3AB76\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev-LambdaStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.195.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev-LambdaStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.195.0"}},"dev-AppSyncStack":{"id":"dev-AppSyncStack","path":"dev-AppSyncStack","children":{"GraphqlApi":{"id":"GraphqlApi","path":"dev-AppSyncStack/GraphqlApi","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::GraphQLApi","aws:cdk:cloudformation:props":{"additionalAuthenticationProviders":[{"authenticationType":"API_KEY"}],"authenticationType":"AMAZON_COGNITO_USER_POOLS","name":"SmartHomeAPI","userPoolConfig":{"userPoolId":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefUserPool6BA7E5F296FD7236"},"awsRegion":"us-east-1","defaultAction":"ALLOW"},"xrayEnabled":true}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnGraphQLApi","version":"2.195.0"}},"ApiKey":{"id":"ApiKey","path":"dev-AppSyncStack/ApiKey","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::ApiKey","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"description":"API Key for testing","expires":1779914291}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnApiKey","version":"2.195.0"}},"GraphQLSchema":{"id":"GraphQLSchema","path":"dev-AppSyncStack/GraphQLSchema","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::GraphQLSchema","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"definition":"type Query {\n  getUiPage(userId: ID!, deviceType: String): UIPageResult\n  getMyDevices(userId: ID!): DeviceListResult\n  getDeviceState(deviceId: ID!): DeviceStateResult\n  getAnalytics(deviceId: ID!, timeRange: String): AnalyticsResult\n  getUiJson(uiType: String!): UiJsonResult @aws_api_key @aws_cognito_user_pools\n}\n\ntype Mutation {\n  controlRelay(deviceId: ID!, relayId: String!, state: Boolean!): DeviceCommandResult\n  registerDevice(userId: ID!, deviceCode: String!): DeviceRegistrationResult\n  removeDevice(userId: ID!, deviceId: ID!): DeviceRegistrationResult\n}\n\ntype Subscription {\n  onDeviceUpdate(deviceId: ID!): DeviceState\n  onDeviceAdded(userId: ID!): Device\n}\n\ntype UIPageResult {\n  success: Boolean!\n  data: UIPage\n}\n\ntype UIPage {\n  title: String\n  layout: AWSJSON\n  components: [UIComponent]\n}\n\ntype UIComponent {\n  id: ID!\n  type: String!\n  properties: AWSJSON\n}\n\ntype DeviceListResult {\n  success: Boolean!\n  devices: [Device]\n}\n\ntype Device {\n  id: ID!\n  name: String\n  type: String!\n  location: String\n  capabilities: [String]\n  relays: [Relay]\n  sensors: [Sensor]\n  firmware: String\n  lastConnected: AWSDateTime\n  userId: ID!\n}\n\ntype Relay {\n  id: ID!\n  name: String\n  state: Boolean\n  deviceId: ID!\n}\n\ntype Sensor {\n  id: ID!\n  name: String\n  type: String!\n  value: Float\n  unit: String\n  deviceId: ID!\n}\n\ntype DeviceCommandResult {\n  success: Boolean!\n  message: String\n  deviceId: ID\n  relayId: String\n  newState: Boolean\n}\n\ntype DeviceRegistrationResult {\n  success: Boolean!\n  message: String\n  device: Device\n}\n\ntype DeviceStateResult {\n  success: Boolean!\n  state: DeviceState\n}\n\ntype DeviceState {\n  deviceId: ID!\n  online: Boolean!\n  relayStates: [RelayState]\n  sensorReadings: [SensorReading]\n  lastUpdated: AWSDateTime\n}\n\ntype RelayState {\n  relayId: String!\n  state: Boolean!\n}\n\ntype SensorReading {\n  sensorId: String!\n  value: Float!\n  timestamp: AWSDateTime\n}\n\ntype AnalyticsResult {\n  success: Boolean!\n  data: AnalyticsData\n}\n\ntype AnalyticsData {\n  deviceId: ID\n  metrics: [MetricPoint]\n  insights: [String]\n}\n\ntype UiJsonResult @aws_api_key @aws_cognito_user_pools {\n  success: Boolean! @aws_api_key @aws_cognito_user_pools\n  data: String @aws_api_key @aws_cognito_user_pools\n  message: String @aws_api_key @aws_cognito_user_pools\n}\n\ntype MetricPoint {\n  timestamp: AWSDateTime\n  value: Float\n  type: String\n}"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnGraphQLSchema","version":"2.195.0"}},"AppSyncLambdaRole":{"id":"AppSyncLambdaRole","path":"dev-AppSyncStack/AppSyncLambdaRole","children":{"ImportAppSyncLambdaRole":{"id":"ImportAppSyncLambdaRole","path":"dev-AppSyncStack/AppSyncLambdaRole/ImportAppSyncLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-AppSyncStack/AppSyncLambdaRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-AppSyncStack/AppSyncLambdaRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"dev-AppSyncStack/AppSyncLambdaRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttcontrolrelayFunction4F3EACDBArn2D5AB674"},{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttgetanalyticsFunction6023DC98Arn9D1AEEE7"},{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttgetdevicestateFunction3A1B79F6ArnE20F81C7"},{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttgetmydevicesFunction117EAF4AArn94499BB5"},{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttgetuijsonFunction64B3AB76Arn447AFAB6"},{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttgetuipageFunctionFA3AEF0DArn291C4A66"},{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttregisterdeviceFunction9219CBCBArn6C61C5AD"},{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttremovedeviceFunction84CF65FFArn5D928992"},{"Fn::Join":["",[{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttcontrolrelayFunction4F3EACDBArn2D5AB674"},":*"]]},{"Fn::Join":["",[{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttgetanalyticsFunction6023DC98Arn9D1AEEE7"},":*"]]},{"Fn::Join":["",[{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttgetdevicestateFunction3A1B79F6ArnE20F81C7"},":*"]]},{"Fn::Join":["",[{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttgetmydevicesFunction117EAF4AArn94499BB5"},":*"]]},{"Fn::Join":["",[{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttgetuijsonFunction64B3AB76Arn447AFAB6"},":*"]]},{"Fn::Join":["",[{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttgetuipageFunctionFA3AEF0DArn291C4A66"},":*"]]},{"Fn::Join":["",[{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttregisterdeviceFunction9219CBCBArn6C61C5AD"},":*"]]},{"Fn::Join":["",[{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttremovedeviceFunction84CF65FFArn5D928992"},":*"]]}]}],"Version":"2012-10-17"},"policyName":"AppSyncLambdaRoleDefaultPolicy9FE2EA05","roles":[{"Ref":"AppSyncLambdaRole441197CA"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.195.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]}},"get-ui-pageDataSource":{"id":"get-ui-pageDataSource","path":"dev-AppSyncStack/get-ui-pageDataSource","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttgetuipageFunctionFA3AEF0DArn291C4A66"}},"name":"get_ui_pageDataSource","serviceRoleArn":{"Fn::GetAtt":["AppSyncLambdaRole441197CA","Arn"]},"type":"AWS_LAMBDA"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.195.0"}},"get-ui-pageResolver":{"id":"get-ui-pageResolver","path":"dev-AppSyncStack/get-ui-pageResolver","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"dataSourceName":"get_ui_pageDataSource","fieldName":"getUiPage","typeName":"Query"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.195.0"}},"get-my-devicesDataSource":{"id":"get-my-devicesDataSource","path":"dev-AppSyncStack/get-my-devicesDataSource","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttgetmydevicesFunction117EAF4AArn94499BB5"}},"name":"get_my_devicesDataSource","serviceRoleArn":{"Fn::GetAtt":["AppSyncLambdaRole441197CA","Arn"]},"type":"AWS_LAMBDA"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.195.0"}},"get-my-devicesResolver":{"id":"get-my-devicesResolver","path":"dev-AppSyncStack/get-my-devicesResolver","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"dataSourceName":"get_my_devicesDataSource","fieldName":"getMyDevices","typeName":"Query"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.195.0"}},"get-device-stateDataSource":{"id":"get-device-stateDataSource","path":"dev-AppSyncStack/get-device-stateDataSource","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttgetdevicestateFunction3A1B79F6ArnE20F81C7"}},"name":"get_device_stateDataSource","serviceRoleArn":{"Fn::GetAtt":["AppSyncLambdaRole441197CA","Arn"]},"type":"AWS_LAMBDA"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.195.0"}},"get-device-stateResolver":{"id":"get-device-stateResolver","path":"dev-AppSyncStack/get-device-stateResolver","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"dataSourceName":"get_device_stateDataSource","fieldName":"getDeviceState","typeName":"Query"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.195.0"}},"get-analyticsDataSource":{"id":"get-analyticsDataSource","path":"dev-AppSyncStack/get-analyticsDataSource","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttgetanalyticsFunction6023DC98Arn9D1AEEE7"}},"name":"get_analyticsDataSource","serviceRoleArn":{"Fn::GetAtt":["AppSyncLambdaRole441197CA","Arn"]},"type":"AWS_LAMBDA"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.195.0"}},"get-analyticsResolver":{"id":"get-analyticsResolver","path":"dev-AppSyncStack/get-analyticsResolver","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"dataSourceName":"get_analyticsDataSource","fieldName":"getAnalytics","typeName":"Query"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.195.0"}},"get-ui-jsonDataSource":{"id":"get-ui-jsonDataSource","path":"dev-AppSyncStack/get-ui-jsonDataSource","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttgetuijsonFunction64B3AB76Arn447AFAB6"}},"name":"get_ui_jsonDataSource","serviceRoleArn":{"Fn::GetAtt":["AppSyncLambdaRole441197CA","Arn"]},"type":"AWS_LAMBDA"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.195.0"}},"get-ui-jsonResolver":{"id":"get-ui-jsonResolver","path":"dev-AppSyncStack/get-ui-jsonResolver","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"dataSourceName":"get_ui_jsonDataSource","fieldName":"getUiJson","typeName":"Query"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.195.0"}},"control-relayDataSource":{"id":"control-relayDataSource","path":"dev-AppSyncStack/control-relayDataSource","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttcontrolrelayFunction4F3EACDBArn2D5AB674"}},"name":"control_relayDataSource","serviceRoleArn":{"Fn::GetAtt":["AppSyncLambdaRole441197CA","Arn"]},"type":"AWS_LAMBDA"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.195.0"}},"control-relayResolver":{"id":"control-relayResolver","path":"dev-AppSyncStack/control-relayResolver","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"dataSourceName":"control_relayDataSource","fieldName":"controlRelay","typeName":"Mutation"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.195.0"}},"register-deviceDataSource":{"id":"register-deviceDataSource","path":"dev-AppSyncStack/register-deviceDataSource","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttregisterdeviceFunction9219CBCBArn6C61C5AD"}},"name":"register_deviceDataSource","serviceRoleArn":{"Fn::GetAtt":["AppSyncLambdaRole441197CA","Arn"]},"type":"AWS_LAMBDA"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.195.0"}},"register-deviceResolver":{"id":"register-deviceResolver","path":"dev-AppSyncStack/register-deviceResolver","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"dataSourceName":"register_deviceDataSource","fieldName":"registerDevice","typeName":"Mutation"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.195.0"}},"remove-deviceDataSource":{"id":"remove-deviceDataSource","path":"dev-AppSyncStack/remove-deviceDataSource","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::ImportValue":"dev-LambdaStack:ExportsOutputFnGetAttremovedeviceFunction84CF65FFArn5D928992"}},"name":"remove_deviceDataSource","serviceRoleArn":{"Fn::GetAtt":["AppSyncLambdaRole441197CA","Arn"]},"type":"AWS_LAMBDA"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.195.0"}},"remove-deviceResolver":{"id":"remove-deviceResolver","path":"dev-AppSyncStack/remove-deviceResolver","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"dataSourceName":"remove_deviceDataSource","fieldName":"removeDevice","typeName":"Mutation"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.195.0"}},"NoneDataSource":{"id":"NoneDataSource","path":"dev-AppSyncStack/NoneDataSource","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"name":"NoneDataSource","type":"NONE"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.195.0"}},"onDeviceUpdateResolver":{"id":"onDeviceUpdateResolver","path":"dev-AppSyncStack/onDeviceUpdateResolver","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"dataSourceName":"NoneDataSource","fieldName":"onDeviceUpdate","requestMappingTemplate":"{\n          \"version\": \"2018-05-29\",\n          \"payload\": {}\n        }","responseMappingTemplate":"$util.toJson($context.result)","typeName":"Subscription"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.195.0"}},"onDeviceAddedResolver":{"id":"onDeviceAddedResolver","path":"dev-AppSyncStack/onDeviceAddedResolver","attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi","ApiId"]},"dataSourceName":"NoneDataSource","fieldName":"onDeviceAdded","requestMappingTemplate":"{\n          \"version\": \"2018-05-29\",\n          \"payload\": {}\n        }","responseMappingTemplate":"$util.toJson($context.result)","typeName":"Subscription"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.195.0"}},"GraphQLApiUrlParam":{"id":"GraphQLApiUrlParam","path":"dev-AppSyncStack/GraphQLApiUrlParam","children":{"Resource":{"id":"Resource","path":"dev-AppSyncStack/GraphQLApiUrlParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"URL for the AppSync GraphQL API","name":"/appsync/dev-AppSyncStack/api-url","type":"String","value":{"Fn::Join":["",["https://",{"Fn::GetAtt":["GraphqlApi","GraphQLUrl"]}]]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"GraphQLApiUrl":{"id":"GraphQLApiUrl","path":"dev-AppSyncStack/GraphQLApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"GraphQLApiId":{"id":"GraphQLApiId","path":"dev-AppSyncStack/GraphQLApiId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"ApiKeyOutput":{"id":"ApiKeyOutput","path":"dev-AppSyncStack/ApiKeyOutput","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"dev-AppSyncStack/CDKMetadata","children":{"Default":{"id":"Default","path":"dev-AppSyncStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Exports":{"id":"Exports","path":"dev-AppSyncStack/Exports","children":{"Output{\"Fn::GetAtt\":[\"GraphqlApi\",\"GraphQLUrl\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GraphqlApi\",\"GraphQLUrl\"]}","path":"dev-AppSyncStack/Exports/Output{\"Fn::GetAtt\":[\"GraphqlApi\",\"GraphQLUrl\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Output{\"Fn::GetAtt\":[\"GraphqlApi\",\"ApiId\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GraphqlApi\",\"ApiId\"]}","path":"dev-AppSyncStack/Exports/Output{\"Fn::GetAtt\":[\"GraphqlApi\",\"ApiId\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev-AppSyncStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.195.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev-AppSyncStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.195.0"}},"dev-PaymentStack":{"id":"dev-PaymentStack","path":"dev-PaymentStack","children":{"SubscriptionsTable":{"id":"SubscriptionsTable","path":"dev-PaymentStack/SubscriptionsTable","children":{"Resource":{"id":"Resource","path":"dev-PaymentStack/SubscriptionsTable/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"userId","attributeType":"S"},{"attributeName":"subscriptionId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"userId","keyType":"HASH"},{"attributeName":"subscriptionId","keyType":"RANGE"}],"tableName":"SmartHomeSubscriptions-dev"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.195.0"}},"ScalingRole":{"id":"ScalingRole","path":"dev-PaymentStack/SubscriptionsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.195.0","metadata":[{"tableName":"*","partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"billingMode":"PAY_PER_REQUEST","removalPolicy":"retain"}]}},"PaymentsTable":{"id":"PaymentsTable","path":"dev-PaymentStack/PaymentsTable","children":{"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentsTable/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"paymentId","attributeType":"S"},{"attributeName":"userId","attributeType":"S"},{"attributeName":"createdAt","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"UserPaymentsIndex","keySchema":[{"attributeName":"userId","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"paymentId","keyType":"HASH"},{"attributeName":"userId","keyType":"RANGE"}],"tableName":"SmartHomePayments-dev"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.195.0"}},"ScalingRole":{"id":"ScalingRole","path":"dev-PaymentStack/PaymentsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.195.0","metadata":[{"tableName":"*","partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"billingMode":"PAY_PER_REQUEST","removalPolicy":"retain"},{"addGlobalSecondaryIndex":[{"indexName":"*","partitionKey":{"name":"*","type":"S"},"projectionType":"ALL"}]}]}},"PaymentLambdaRole":{"id":"PaymentLambdaRole","path":"dev-PaymentStack/PaymentLambdaRole","children":{"ImportPaymentLambdaRole":{"id":"ImportPaymentLambdaRole","path":"dev-PaymentStack/PaymentLambdaRole/ImportPaymentLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentLambdaRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonSSMReadOnlyAccess"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-PaymentStack/PaymentLambdaRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentLambdaRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["PaymentsTable48A42630","Arn"]},{"Fn::GetAtt":["SubscriptionsTable40965A9D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PaymentsTable48A42630","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"PaymentLambdaRoleDefaultPolicyBD67D7DA","roles":[{"Ref":"PaymentLambdaRoleDADC2A22"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.195.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"},{"managedPolicyArn":"*"}]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]}},"CreateSubscriptionFunction":{"id":"CreateSubscriptionFunction","path":"dev-PaymentStack/CreateSubscriptionFunction","children":{"Code":{"id":"Code","path":"dev-PaymentStack/CreateSubscriptionFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-PaymentStack/CreateSubscriptionFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-PaymentStack/CreateSubscriptionFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-PaymentStack/CreateSubscriptionFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Creates a new subscription in Stripe","environment":{"variables":{"STAGE":"dev","SUBSCRIPTIONS_TABLE":{"Ref":"SubscriptionsTable40965A9D"},"PAYMENTS_TABLE":{"Ref":"PaymentsTable48A42630"},"USER_POOL_ID":{"Fn::ImportValue":"dev-AuthStack:ExportsOutputRefUserPool6BA7E5F296FD7236"},"STRIPE_SECRET_KEY_PARAM":"/dev/payment/stripeSecretKey"}},"functionName":"SmartHomeApp-dev-lambda-create-subscription","handler":"payment.createSubscription","role":{"Fn::GetAtt":["PaymentLambdaRoleDADC2A22","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","role":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"CancelSubscriptionFunction":{"id":"CancelSubscriptionFunction","path":"dev-PaymentStack/CancelSubscriptionFunction","children":{"Code":{"id":"Code","path":"dev-PaymentStack/CancelSubscriptionFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-PaymentStack/CancelSubscriptionFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-PaymentStack/CancelSubscriptionFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-PaymentStack/CancelSubscriptionFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Cancels an existing subscription in Stripe","environment":{"variables":{"STAGE":"dev","SUBSCRIPTIONS_TABLE":{"Ref":"SubscriptionsTable40965A9D"},"STRIPE_SECRET_KEY_PARAM":"/dev/payment/stripeSecretKey"}},"functionName":"SmartHomeApp-dev-lambda-cancel-subscription","handler":"payment.cancelSubscription","role":{"Fn::GetAtt":["PaymentLambdaRoleDADC2A22","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","role":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"StripeWebhookFunction":{"id":"StripeWebhookFunction","path":"dev-PaymentStack/StripeWebhookFunction","children":{"Code":{"id":"Code","path":"dev-PaymentStack/StripeWebhookFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-PaymentStack/StripeWebhookFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-PaymentStack/StripeWebhookFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-PaymentStack/StripeWebhookFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Handles Stripe webhook events","environment":{"variables":{"STAGE":"dev","SUBSCRIPTIONS_TABLE":{"Ref":"SubscriptionsTable40965A9D"},"PAYMENTS_TABLE":{"Ref":"PaymentsTable48A42630"},"STRIPE_SECRET_KEY_PARAM":"/dev/payment/stripeSecretKey","STRIPE_WEBHOOK_SECRET_PARAM":"/dev/payment/stripeWebhookSecret"}},"functionName":"SmartHomeApp-dev-lambda-stripe-webhook","handler":"payment.webhookHandler","role":{"Fn::GetAtt":["PaymentLambdaRoleDADC2A22","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","role":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"GetSubscriptionFunction":{"id":"GetSubscriptionFunction","path":"dev-PaymentStack/GetSubscriptionFunction","children":{"Code":{"id":"Code","path":"dev-PaymentStack/GetSubscriptionFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-PaymentStack/GetSubscriptionFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-PaymentStack/GetSubscriptionFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-PaymentStack/GetSubscriptionFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Gets subscription details","environment":{"variables":{"STAGE":"dev","SUBSCRIPTIONS_TABLE":{"Ref":"SubscriptionsTable40965A9D"},"STRIPE_SECRET_KEY_PARAM":"/dev/payment/stripeSecretKey"}},"functionName":"SmartHomeApp-dev-lambda-get-subscription","handler":"payment.getSubscription","role":{"Fn::GetAtt":["PaymentLambdaRoleDADC2A22","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","role":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"PaymentApi":{"id":"PaymentApi","path":"dev-PaymentStack/PaymentApi","children":{"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentApi/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"API for payment processing","name":"SmartHomePaymentApi-dev"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.195.0"}},"Deployment":{"id":"Deployment","path":"dev-PaymentStack/PaymentApi/Deployment","children":{"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentApi/Deployment/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"API for payment processing","restApiId":{"Ref":"PaymentApi54483FE7"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.195.0","metadata":[{"description":"*","api":"*","retainDeployments":"*"},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]}]}},"DeploymentStage.dev":{"id":"DeploymentStage.dev","path":"dev-PaymentStack/PaymentApi/DeploymentStage.dev","children":{"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentApi/DeploymentStage.dev/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"PaymentApiDeploymentF4CB84AD723570d9c4c77d770cea31329e287f1b"},"restApiId":{"Ref":"PaymentApi54483FE7"},"stageName":"dev","tracingEnabled":true}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.195.0","metadata":[{"deployment":"*","stageName":"*","tracingEnabled":true}]}},"Endpoint":{"id":"Endpoint","path":"dev-PaymentStack/PaymentApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"Default":{"id":"Default","path":"dev-PaymentStack/PaymentApi/Default","children":{"OPTIONS":{"id":"OPTIONS","path":"dev-PaymentStack/PaymentApi/Default/OPTIONS","children":{"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentApi/Default/OPTIONS/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["PaymentApi54483FE7","RootResourceId"]},"restApiId":{"Ref":"PaymentApi54483FE7"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.195.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]}},"subscriptions":{"id":"subscriptions","path":"dev-PaymentStack/PaymentApi/Default/subscriptions","children":{"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PaymentApi54483FE7","RootResourceId"]},"pathPart":"subscriptions","restApiId":{"Ref":"PaymentApi54483FE7"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.195.0"}},"OPTIONS":{"id":"OPTIONS","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/OPTIONS","children":{"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/OPTIONS/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"PaymentApisubscriptions232348AD"},"restApiId":{"Ref":"PaymentApi54483FE7"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.195.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]}},"{subscriptionId}":{"id":"{subscriptionId}","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/{subscriptionId}","children":{"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/{subscriptionId}/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PaymentApisubscriptions232348AD"},"pathPart":"{subscriptionId}","restApiId":{"Ref":"PaymentApi54483FE7"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.195.0"}},"OPTIONS":{"id":"OPTIONS","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/{subscriptionId}/OPTIONS","children":{"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/{subscriptionId}/OPTIONS/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"PaymentApisubscriptionssubscriptionId06217795"},"restApiId":{"Ref":"PaymentApi54483FE7"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.195.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]}},"GET":{"id":"GET","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/{subscriptionId}/GET","children":{"ApiPermission.devPaymentStackPaymentApi0D45D705.GET..subscriptions.{subscriptionId}":{"id":"ApiPermission.devPaymentStackPaymentApi0D45D705.GET..subscriptions.{subscriptionId}","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/{subscriptionId}/GET/ApiPermission.devPaymentStackPaymentApi0D45D705.GET..subscriptions.{subscriptionId}","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetSubscriptionFunctionA299F056","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:703671935952:",{"Ref":"PaymentApi54483FE7"},"/",{"Ref":"PaymentApiDeploymentStagedev1BFC35F9"},"/GET/subscriptions/*"]]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.195.0"}},"ApiPermission.Test.devPaymentStackPaymentApi0D45D705.GET..subscriptions.{subscriptionId}":{"id":"ApiPermission.Test.devPaymentStackPaymentApi0D45D705.GET..subscriptions.{subscriptionId}","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/{subscriptionId}/GET/ApiPermission.Test.devPaymentStackPaymentApi0D45D705.GET..subscriptions.{subscriptionId}","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetSubscriptionFunctionA299F056","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:703671935952:",{"Ref":"PaymentApi54483FE7"},"/test-invoke-stage/GET/subscriptions/*"]]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/{subscriptionId}/GET/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["GetSubscriptionFunctionA299F056","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PaymentApisubscriptionssubscriptionId06217795"},"restApiId":{"Ref":"PaymentApi54483FE7"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.195.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]}},"DELETE":{"id":"DELETE","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/{subscriptionId}/DELETE","children":{"ApiPermission.devPaymentStackPaymentApi0D45D705.DELETE..subscriptions.{subscriptionId}":{"id":"ApiPermission.devPaymentStackPaymentApi0D45D705.DELETE..subscriptions.{subscriptionId}","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/{subscriptionId}/DELETE/ApiPermission.devPaymentStackPaymentApi0D45D705.DELETE..subscriptions.{subscriptionId}","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CancelSubscriptionFunction88525669","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:703671935952:",{"Ref":"PaymentApi54483FE7"},"/",{"Ref":"PaymentApiDeploymentStagedev1BFC35F9"},"/DELETE/subscriptions/*"]]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.195.0"}},"ApiPermission.Test.devPaymentStackPaymentApi0D45D705.DELETE..subscriptions.{subscriptionId}":{"id":"ApiPermission.Test.devPaymentStackPaymentApi0D45D705.DELETE..subscriptions.{subscriptionId}","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/{subscriptionId}/DELETE/ApiPermission.Test.devPaymentStackPaymentApi0D45D705.DELETE..subscriptions.{subscriptionId}","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CancelSubscriptionFunction88525669","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:703671935952:",{"Ref":"PaymentApi54483FE7"},"/test-invoke-stage/DELETE/subscriptions/*"]]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/{subscriptionId}/DELETE/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["CancelSubscriptionFunction88525669","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PaymentApisubscriptionssubscriptionId06217795"},"restApiId":{"Ref":"PaymentApi54483FE7"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.195.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.195.0","metadata":[{"parent":"*","pathPart":"*"}]}},"POST":{"id":"POST","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/POST","children":{"ApiPermission.devPaymentStackPaymentApi0D45D705.POST..subscriptions":{"id":"ApiPermission.devPaymentStackPaymentApi0D45D705.POST..subscriptions","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/POST/ApiPermission.devPaymentStackPaymentApi0D45D705.POST..subscriptions","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CreateSubscriptionFunction144726A9","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:703671935952:",{"Ref":"PaymentApi54483FE7"},"/",{"Ref":"PaymentApiDeploymentStagedev1BFC35F9"},"/POST/subscriptions"]]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.195.0"}},"ApiPermission.Test.devPaymentStackPaymentApi0D45D705.POST..subscriptions":{"id":"ApiPermission.Test.devPaymentStackPaymentApi0D45D705.POST..subscriptions","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/POST/ApiPermission.Test.devPaymentStackPaymentApi0D45D705.POST..subscriptions","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CreateSubscriptionFunction144726A9","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:703671935952:",{"Ref":"PaymentApi54483FE7"},"/test-invoke-stage/POST/subscriptions"]]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentApi/Default/subscriptions/POST/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["CreateSubscriptionFunction144726A9","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PaymentApisubscriptions232348AD"},"restApiId":{"Ref":"PaymentApi54483FE7"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.195.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.195.0","metadata":[{"parent":"*","pathPart":"*"}]}},"webhooks":{"id":"webhooks","path":"dev-PaymentStack/PaymentApi/Default/webhooks","children":{"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentApi/Default/webhooks/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PaymentApi54483FE7","RootResourceId"]},"pathPart":"webhooks","restApiId":{"Ref":"PaymentApi54483FE7"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.195.0"}},"OPTIONS":{"id":"OPTIONS","path":"dev-PaymentStack/PaymentApi/Default/webhooks/OPTIONS","children":{"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentApi/Default/webhooks/OPTIONS/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"PaymentApiwebhooks04899744"},"restApiId":{"Ref":"PaymentApi54483FE7"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.195.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]}},"stripe":{"id":"stripe","path":"dev-PaymentStack/PaymentApi/Default/webhooks/stripe","children":{"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentApi/Default/webhooks/stripe/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PaymentApiwebhooks04899744"},"pathPart":"stripe","restApiId":{"Ref":"PaymentApi54483FE7"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.195.0"}},"OPTIONS":{"id":"OPTIONS","path":"dev-PaymentStack/PaymentApi/Default/webhooks/stripe/OPTIONS","children":{"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentApi/Default/webhooks/stripe/OPTIONS/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"PaymentApiwebhooksstripeE1D0CCAF"},"restApiId":{"Ref":"PaymentApi54483FE7"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.195.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]}},"POST":{"id":"POST","path":"dev-PaymentStack/PaymentApi/Default/webhooks/stripe/POST","children":{"ApiPermission.devPaymentStackPaymentApi0D45D705.POST..webhooks.stripe":{"id":"ApiPermission.devPaymentStackPaymentApi0D45D705.POST..webhooks.stripe","path":"dev-PaymentStack/PaymentApi/Default/webhooks/stripe/POST/ApiPermission.devPaymentStackPaymentApi0D45D705.POST..webhooks.stripe","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["StripeWebhookFunction73CC65ED","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:703671935952:",{"Ref":"PaymentApi54483FE7"},"/",{"Ref":"PaymentApiDeploymentStagedev1BFC35F9"},"/POST/webhooks/stripe"]]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.195.0"}},"ApiPermission.Test.devPaymentStackPaymentApi0D45D705.POST..webhooks.stripe":{"id":"ApiPermission.Test.devPaymentStackPaymentApi0D45D705.POST..webhooks.stripe","path":"dev-PaymentStack/PaymentApi/Default/webhooks/stripe/POST/ApiPermission.Test.devPaymentStackPaymentApi0D45D705.POST..webhooks.stripe","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["StripeWebhookFunction73CC65ED","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:703671935952:",{"Ref":"PaymentApi54483FE7"},"/test-invoke-stage/POST/webhooks/stripe"]]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-PaymentStack/PaymentApi/Default/webhooks/stripe/POST/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["StripeWebhookFunction73CC65ED","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PaymentApiwebhooksstripeE1D0CCAF"},"restApiId":{"Ref":"PaymentApi54483FE7"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.195.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.195.0","metadata":[{"parent":"*","pathPart":"*"}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.195.0","metadata":[{"parent":"*","pathPart":"*"}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.195.0","metadata":["*"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.195.0","metadata":[{"restApiName":"*","description":"*","deployOptions":{"stageName":"*","tracingEnabled":true},"defaultCorsPreflightOptions":{"allowOrigins":"*","allowMethods":"*"}}]}},"StripeWebhookUrlParam":{"id":"StripeWebhookUrlParam","path":"dev-PaymentStack/StripeWebhookUrlParam","children":{"Resource":{"id":"Resource","path":"dev-PaymentStack/StripeWebhookUrlParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Stripe webhook URL","name":"/payment/dev/stripe-webhook-url","type":"String","value":{"Fn::Join":["",["https://",{"Ref":"PaymentApi54483FE7"},".execute-api.us-east-1.",{"Ref":"AWS::URLSuffix"},"/",{"Ref":"PaymentApiDeploymentStagedev1BFC35F9"},"/webhooks/stripe"]]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"PaymentApiUrl":{"id":"PaymentApiUrl","path":"dev-PaymentStack/PaymentApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"StripeWebhookUrl":{"id":"StripeWebhookUrl","path":"dev-PaymentStack/StripeWebhookUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"SubscriptionsTableName":{"id":"SubscriptionsTableName","path":"dev-PaymentStack/SubscriptionsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"PaymentsTableName":{"id":"PaymentsTableName","path":"dev-PaymentStack/PaymentsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"dev-PaymentStack/CDKMetadata","children":{"Default":{"id":"Default","path":"dev-PaymentStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev-PaymentStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.195.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev-PaymentStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.195.0"}},"dev-GreengrassStack":{"id":"dev-GreengrassStack","path":"dev-GreengrassStack","children":{"ComponentBucket":{"id":"ComponentBucket","path":"dev-GreengrassStack/ComponentBucket","children":{"Resource":{"id":"Resource","path":"dev-GreengrassStack/ComponentBucket/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":"smart-home-greengrass-components-dev-703671935952","versioningConfiguration":{"status":"Enabled"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.195.0","metadata":[{"bucketName":"*","removalPolicy":"retain","versioned":true}]}},"GreengrassCoreRole":{"id":"GreengrassCoreRole","path":"dev-GreengrassStack/GreengrassCoreRole","children":{"ImportGreengrassCoreRole":{"id":"ImportGreengrassCoreRole","path":"dev-GreengrassStack/GreengrassCoreRole/ImportGreengrassCoreRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-GreengrassStack/GreengrassCoreRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"credentials.iot.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonSSMManagedInstanceCore"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-GreengrassStack/GreengrassCoreRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"dev-GreengrassStack/GreengrassCoreRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["greengrass:*","iot:*","logs:CreateLogGroup","logs:CreateLogStream","logs:DescribeLogStreams","logs:PutLogEvents","s3:GetObject"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GreengrassCoreRoleDefaultPolicy17BD01DB","roles":[{"Ref":"GreengrassCoreRoleF21A116D"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.195.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]}},"LocalInferenceFunction":{"id":"LocalInferenceFunction","path":"dev-GreengrassStack/LocalInferenceFunction","children":{"ServiceRole":{"id":"ServiceRole","path":"dev-GreengrassStack/LocalInferenceFunction/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev-GreengrassStack/LocalInferenceFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-GreengrassStack/LocalInferenceFunction/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]}]}},"Code":{"id":"Code","path":"dev-GreengrassStack/LocalInferenceFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-GreengrassStack/LocalInferenceFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-GreengrassStack/LocalInferenceFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-GreengrassStack/LocalInferenceFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"3e496a5e468c4e1c67ff2312b4b591b9d837741950538fac2dee54417cd85822.zip"},"description":"Performs local inference on IoT device data","environment":{"variables":{"STAGE":"dev"}},"functionName":"SmartHomeApp-dev-lambda-local-inference","handler":"local_inference.handler","role":{"Fn::GetAtt":["LocalInferenceFunctionServiceRoleBC0A9813","Arn"]},"runtime":"python3.9","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]}]}},"LocalAutomationFunction":{"id":"LocalAutomationFunction","path":"dev-GreengrassStack/LocalAutomationFunction","children":{"ServiceRole":{"id":"ServiceRole","path":"dev-GreengrassStack/LocalAutomationFunction/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev-GreengrassStack/LocalAutomationFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-GreengrassStack/LocalAutomationFunction/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]}]}},"Code":{"id":"Code","path":"dev-GreengrassStack/LocalAutomationFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-GreengrassStack/LocalAutomationFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-GreengrassStack/LocalAutomationFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-GreengrassStack/LocalAutomationFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"3e496a5e468c4e1c67ff2312b4b591b9d837741950538fac2dee54417cd85822.zip"},"description":"Handles local automation rules for IoT devices","environment":{"variables":{"STAGE":"dev"}},"functionName":"SmartHomeApp-dev-lambda-local-automation","handler":"local_automation.handler","role":{"Fn::GetAtt":["LocalAutomationFunctionServiceRole4BB70A99","Arn"]},"runtime":"python3.9","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]}]}},"ComponentBucketNameParam":{"id":"ComponentBucketNameParam","path":"dev-GreengrassStack/ComponentBucketNameParam","children":{"Resource":{"id":"Resource","path":"dev-GreengrassStack/ComponentBucketNameParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"S3 bucket for Greengrass components","name":"/greengrass/dev/component-bucket","type":"String","value":{"Ref":"ComponentBucketD0D4EF23"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"GreengrassCoreRoleArnParam":{"id":"GreengrassCoreRoleArnParam","path":"dev-GreengrassStack/GreengrassCoreRoleArnParam","children":{"Resource":{"id":"Resource","path":"dev-GreengrassStack/GreengrassCoreRoleArnParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"IAM role ARN for Greengrass core devices","name":"/greengrass/dev/core-role-arn","type":"String","value":{"Fn::GetAtt":["GreengrassCoreRoleF21A116D","Arn"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"ComponentBucketName":{"id":"ComponentBucketName","path":"dev-GreengrassStack/ComponentBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"GreengrassCoreRoleArn":{"id":"GreengrassCoreRoleArn","path":"dev-GreengrassStack/GreengrassCoreRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"LocalInferenceFunctionName":{"id":"LocalInferenceFunctionName","path":"dev-GreengrassStack/LocalInferenceFunctionName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"LocalAutomationFunctionName":{"id":"LocalAutomationFunctionName","path":"dev-GreengrassStack/LocalAutomationFunctionName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"dev-GreengrassStack/CDKMetadata","children":{"Default":{"id":"Default","path":"dev-GreengrassStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev-GreengrassStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.195.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev-GreengrassStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.195.0"}},"dev-TwinMakerStack":{"id":"dev-TwinMakerStack","path":"dev-TwinMakerStack","children":{"TwinMakerAssetBucket":{"id":"TwinMakerAssetBucket","path":"dev-TwinMakerStack/TwinMakerAssetBucket","children":{"Resource":{"id":"Resource","path":"dev-TwinMakerStack/TwinMakerAssetBucket/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":"smart-home-twinmaker-assets-dev-703671935952","versioningConfiguration":{"status":"Enabled"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.195.0","metadata":[{"bucketName":"*","removalPolicy":"retain","versioned":true}]}},"TwinMakerRole":{"id":"TwinMakerRole","path":"dev-TwinMakerStack/TwinMakerRole","children":{"ImportTwinMakerRole":{"id":"ImportTwinMakerRole","path":"dev-TwinMakerStack/TwinMakerRole/ImportTwinMakerRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-TwinMakerStack/TwinMakerRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"iottwinmaker.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonS3ReadOnlyAccess"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-TwinMakerStack/TwinMakerRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"dev-TwinMakerStack/TwinMakerRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject","s3:ListBucket","s3:PutObject"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["TwinMakerAssetBucket85AC8A5F","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["TwinMakerAssetBucket85AC8A5F","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"TwinMakerRoleDefaultPolicyB1AC952D","roles":[{"Ref":"TwinMakerRoleFCD1C2A9"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.195.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]}},"MatterBridgeFunction":{"id":"MatterBridgeFunction","path":"dev-TwinMakerStack/MatterBridgeFunction","children":{"ServiceRole":{"id":"ServiceRole","path":"dev-TwinMakerStack/MatterBridgeFunction/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev-TwinMakerStack/MatterBridgeFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-TwinMakerStack/MatterBridgeFunction/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]}]}},"Code":{"id":"Code","path":"dev-TwinMakerStack/MatterBridgeFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-TwinMakerStack/MatterBridgeFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-TwinMakerStack/MatterBridgeFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-TwinMakerStack/MatterBridgeFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Bridges Matter protocol devices to AWS IoT","environment":{"variables":{"STAGE":"dev"}},"functionName":"SmartHomeApp-dev-lambda-matter-bridge","handler":"matter.bridgeHandler","role":{"Fn::GetAtt":["MatterBridgeFunctionServiceRoleEAEB43DB","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]}]}},"ZigbeeBridgeFunction":{"id":"ZigbeeBridgeFunction","path":"dev-TwinMakerStack/ZigbeeBridgeFunction","children":{"ServiceRole":{"id":"ServiceRole","path":"dev-TwinMakerStack/ZigbeeBridgeFunction/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev-TwinMakerStack/ZigbeeBridgeFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-TwinMakerStack/ZigbeeBridgeFunction/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]}]}},"Code":{"id":"Code","path":"dev-TwinMakerStack/ZigbeeBridgeFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-TwinMakerStack/ZigbeeBridgeFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-TwinMakerStack/ZigbeeBridgeFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-TwinMakerStack/ZigbeeBridgeFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Bridges Zigbee protocol devices to AWS IoT","environment":{"variables":{"STAGE":"dev"}},"functionName":"SmartHomeApp-dev-lambda-zigbee-bridge","handler":"zigbee.bridgeHandler","role":{"Fn::GetAtt":["ZigbeeBridgeFunctionServiceRole65395213","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]}]}},"DigitalTwinUpdateFunction":{"id":"DigitalTwinUpdateFunction","path":"dev-TwinMakerStack/DigitalTwinUpdateFunction","children":{"ServiceRole":{"id":"ServiceRole","path":"dev-TwinMakerStack/DigitalTwinUpdateFunction/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"dev-TwinMakerStack/DigitalTwinUpdateFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-TwinMakerStack/DigitalTwinUpdateFunction/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"dev-TwinMakerStack/DigitalTwinUpdateFunction/ServiceRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"dev-TwinMakerStack/DigitalTwinUpdateFunction/ServiceRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["TwinMakerAssetBucket85AC8A5F","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["TwinMakerAssetBucket85AC8A5F","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"DigitalTwinUpdateFunctionServiceRoleDefaultPolicyBC6CF385","roles":[{"Ref":"DigitalTwinUpdateFunctionServiceRole10FD28FE"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.195.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]}},"Code":{"id":"Code","path":"dev-TwinMakerStack/DigitalTwinUpdateFunction/Code","children":{"Stage":{"id":"Stage","path":"dev-TwinMakerStack/DigitalTwinUpdateFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.195.0"}},"AssetBucket":{"id":"AssetBucket","path":"dev-TwinMakerStack/DigitalTwinUpdateFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.195.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.195.0"}},"Resource":{"id":"Resource","path":"dev-TwinMakerStack/DigitalTwinUpdateFunction/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-703671935952-us-east-1","s3Key":"e1bc105be636f99d58d1b06958fab4a6f5c00b48b5a51c3a620ac7449ccc1158.zip"},"description":"Updates digital twins based on device state changes","environment":{"variables":{"STAGE":"dev","ASSET_BUCKET":{"Ref":"TwinMakerAssetBucket85AC8A5F"}}},"functionName":"SmartHomeApp-dev-lambda-digital-twin-update","handler":"twinmaker.updateTwin","role":{"Fn::GetAtt":["DigitalTwinUpdateFunctionServiceRole10FD28FE","Arn"]},"runtime":"nodejs18.x","timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.195.0","metadata":[{"runtime":"*","code":"*","handler":"*","timeout":"*","environment":"*","description":"*","functionName":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]}},"TwinMakerAssetBucketParam":{"id":"TwinMakerAssetBucketParam","path":"dev-TwinMakerStack/TwinMakerAssetBucketParam","children":{"Resource":{"id":"Resource","path":"dev-TwinMakerStack/TwinMakerAssetBucketParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"S3 bucket for TwinMaker assets","name":"/twinmaker/dev/asset-bucket","type":"String","value":{"Ref":"TwinMakerAssetBucket85AC8A5F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"TwinMakerRoleArnParam":{"id":"TwinMakerRoleArnParam","path":"dev-TwinMakerStack/TwinMakerRoleArnParam","children":{"Resource":{"id":"Resource","path":"dev-TwinMakerStack/TwinMakerRoleArnParam/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"IAM role ARN for TwinMaker","name":"/twinmaker/dev/role-arn","type":"String","value":{"Fn::GetAtt":["TwinMakerRoleFCD1C2A9","Arn"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.195.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*"}]}},"TwinMakerAssetBucketName":{"id":"TwinMakerAssetBucketName","path":"dev-TwinMakerStack/TwinMakerAssetBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"TwinMakerRoleArn":{"id":"TwinMakerRoleArn","path":"dev-TwinMakerStack/TwinMakerRoleArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"MatterBridgeFunctionName":{"id":"MatterBridgeFunctionName","path":"dev-TwinMakerStack/MatterBridgeFunctionName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"ZigbeeBridgeFunctionName":{"id":"ZigbeeBridgeFunctionName","path":"dev-TwinMakerStack/ZigbeeBridgeFunctionName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"dev-TwinMakerStack/CDKMetadata","children":{"Default":{"id":"Default","path":"dev-TwinMakerStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev-TwinMakerStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.195.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev-TwinMakerStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.195.0"}},"dev-AmplifyHostingStack":{"id":"dev-AmplifyHostingStack","path":"dev-AmplifyHostingStack","children":{"SmartHomeFrontendApp-dev":{"id":"SmartHomeFrontendApp-dev","path":"dev-AmplifyHostingStack/SmartHomeFrontendApp-dev","children":{"Role":{"id":"Role","path":"dev-AmplifyHostingStack/SmartHomeFrontendApp-dev/Role","children":{"ImportRole":{"id":"ImportRole","path":"dev-AmplifyHostingStack/SmartHomeFrontendApp-dev/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-AmplifyHostingStack/SmartHomeFrontendApp-dev/Role/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"amplify.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}}]}},"Resource":{"id":"Resource","path":"dev-AmplifyHostingStack/SmartHomeFrontendApp-dev/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Amplify::App","aws:cdk:cloudformation:props":{"basicAuthConfig":{"enableBasicAuth":false},"buildSpec":"version: \"1.0\"\nfrontend:\n  phases:\n    preBuild:\n      commands:\n        - cd flutter_app\n        - flutter pub get\n        - flutter clean\n    build:\n      commands:\n        - flutter build web --release\n  artifacts:\n    baseDirectory: flutter_app/build/web\n    files:\n      - \"**/*\"\n  cache:\n    paths:\n      - flutter_app/.dart_tool/**/*\n      - flutter_app/.pub-cache/**/*\n","environmentVariables":[{"name":"NODE_ENV","value":"production"},{"name":"ENV_NAME","value":"dev"}],"iamServiceRole":{"Fn::GetAtt":["AmplifyServiceRole1EB3E935","Arn"]},"name":"SmartHomeFrontendApp-dev","platform":"WEB"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_amplify.CfnApp","version":"2.195.0"}},"main":{"id":"main","path":"dev-AmplifyHostingStack/SmartHomeFrontendApp-dev/main","children":{"Resource":{"id":"Resource","path":"dev-AmplifyHostingStack/SmartHomeFrontendApp-dev/main/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Amplify::Branch","aws:cdk:cloudformation:props":{"appId":{"Fn::GetAtt":["SmartHomeFrontendAppdevE65F9B00","AppId"]},"branchName":"main","enableAutoBuild":true,"enablePullRequestPreview":true,"environmentVariables":[{"name":"ENV_NAME","value":"dev"}],"stage":"PRODUCTION"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_amplify.CfnBranch","version":"2.195.0"}}},"constructInfo":{"fqn":"@aws-cdk/aws-amplify-alpha.Branch","version":"2.195.0-alpha.0","metadata":["*"]}}},"constructInfo":{"fqn":"@aws-cdk/aws-amplify-alpha.App","version":"2.195.0-alpha.0","metadata":["*","*"]}},"AmplifyServiceRole":{"id":"AmplifyServiceRole","path":"dev-AmplifyHostingStack/AmplifyServiceRole","children":{"ImportAmplifyServiceRole":{"id":"ImportAmplifyServiceRole","path":"dev-AmplifyHostingStack/AmplifyServiceRole/ImportAmplifyServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.195.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"dev-AmplifyHostingStack/AmplifyServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"amplify.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AdministratorAccess-Amplify"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.195.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]}]}},"AmplifyAppId-dev":{"id":"AmplifyAppId-dev","path":"dev-AmplifyHostingStack/AmplifyAppId-dev","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"AmplifyDefaultDomain-dev":{"id":"AmplifyDefaultDomain-dev","path":"dev-AmplifyHostingStack/AmplifyDefaultDomain-dev","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"AmplifyConsoleUrl-dev":{"id":"AmplifyConsoleUrl-dev","path":"dev-AmplifyHostingStack/AmplifyConsoleUrl-dev","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.195.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"dev-AmplifyHostingStack/CDKMetadata","children":{"Default":{"id":"Default","path":"dev-AmplifyHostingStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.195.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"dev-AmplifyHostingStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.195.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"dev-AmplifyHostingStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.195.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.195.0"}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}},"constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.195.0"}}}