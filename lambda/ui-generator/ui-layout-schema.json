{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "UI Layout Schema",
  "description": "Schema for UI layout JSON that defines the device interface",
  "type": "object",
  "required": ["title", "deviceId", "deviceType", "components"],
  "properties": {
    "title": {
      "type": "string",
      "description": "Title displayed at the top of the device page"
    },
    "deviceId": {
      "type": "string",
      "description": "Unique identifier for the device"
    },
    "deviceType": {
      "type": "string",
      "description": "Type of device (relay, sensor, energyMeter, etc.)"
    },
    "version": {
      "type": "string",
      "description": "Version of the UI layout"
    },
    "generated": {
      "type": "string",
      "format": "date-time",
      "description": "When the layout was generated"
    },
    "components": {
      "type": "array",
      "description": "List of UI components to display",
      "items": {
        "type": "object",
        "required": ["type"],
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of component (switch, gauge, chart, text, etc.)",
            "enum": ["switch", "gauge", "chart", "text", "status", "header", "value"]
          },
          "field": {
            "type": "string",
            "description": "Data field this component is bound to"
          },
          "label": {
            "type": "string",
            "description": "Display label for the component"
          },
          "text": {
            "type": "string",
            "description": "Text content for text components"
          },
          "unit": {
            "type": "string",
            "description": "Unit of measurement (Â°C, W, etc.)"
          },
          "min": {
            "type": "number",
            "description": "Minimum value for gauges and sliders"
          },
          "max": {
            "type": "number",
            "description": "Maximum value for gauges and sliders"
          },
          "topic": {
            "type": "string",
            "description": "MQTT topic for control commands"
          },
          "payload": {
            "type": "object",
            "description": "Payload template for control commands"
          },
          "period": {
            "type": "string",
            "description": "Time period for charts (hour, day, week, month)",
            "enum": ["hour", "day", "week", "month"]
          }
        }
      }
    }
  }
}